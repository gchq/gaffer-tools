{"version":3,"sources":["./src/app/graph/entity-form/entity-form.component.html","./src/app/graph/edge-form/edge-form.component.html","./src/app/services/gaffer.service.ts","./src/app/properties/properties.component.html","./src/app/app.component.css","./src/environments/environment.ts","./src/app/graph/entity-form/entity-form.component.css","./src/app/graph/graph.component.css","./src/app/types/type-form/type-form.component.css","./src/app/schema/schema.routes.ts","./src/app/graph/edge-form/edge-form.component.ts","./src/app/schema/schema.component.css","./src/app/types/types.component.html","./src/app/app.routes.ts","./src/app/app.component.ts","./src/app/properties/properties.component.ts","./src/app/properties/property-form/property-form.component.html","./src/app/types/types.component.ts","./src/app/app.component.html","./src/app/types/type-form/type-form.component.html","./src/app/types/types.component.css","./src/app/graph/graph.routes.ts","./src/app/graph/edge-form/edge-form.component.css","./src/app/app.module.ts","./src/app/properties/property-form/property-form.component.ts","./src/$_lazy_route_resource lazy namespace object","./src/app/graph/entity-form/entity-form.component.ts","./src/app/schema/schema.component.html","./src/app/types/type-form/type-form.component.ts","./src/app/graph/graph.component.ts","./src/app/properties/properties.component.css","./src/app/properties/property-form/property-form.component.css","./src/app/graph/node-form/node-form.component.css","./src/app/types/types.routes.ts","./src/app/graph/node-form/node-form.component.ts","./src/app/properties/properties.routes.ts","./src/app/graph/node-form/node-form.component.html","./src/app/graph/graph.component.html","./src/main.ts","./src/app/schema/schema.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe,yLAA0H,otBAAotB,sHAAsH,uGAAuG,WAAW,0BAA0B,eAAe,gKAAgK,iBAAiB,uBAAuB,YAAY,aAAa,0OAA0O,wRAAwR,WAAW,uFAAuF,E;;;;;;;;;;;;ACAn7D;AAAe,yLAA0H,8jBAA8jB,2TAA2T,cAAc,sWAAsW,cAAc,uqBAAuqB,E;;;;;;;;;;;;ACA3iE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;AAEwC;AACqD;AAC9D;AACe;IAGpC,aAAa,SAAb,aAAa;IAIxB,YAAoB,IAAgB,EAAU,MAAqB;QAA/C,SAAI,GAAJ,IAAI,CAAY;QAAU,WAAM,GAAN,MAAM,CAAe;QAFnE,gBAAW,GAAW,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IAEE,CAAC;IAEhE,WAAW,CAAC,GAAsB;QACxC,MAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;QACtB,OAAO,IAAI,IAAI,EAAG,CAAC;IACrB,CAAC;IAEO,WAAW,CAAE,KAA8B;QACjD,IAAI,MAAc,CAAC;QACnB,IAAI,KAAK,YAAY,sEAAiB,EAAE;YACtC,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;YAC/B,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC/C,MAAM,GAAG,GAAG,KAAK,CAAC,MAAM,MAAM,KAAK,CAAC,UAAU,IAAI,EAAE,IAAI,GAAG,EAAE,CAAC;SAC/D;aAAM;YACL,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;SAC3D;QACD,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtB,OAAO,+CAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAED,cAAc;QACZ,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,GAAG,sCAAsC,CAAC;QAC5E,MAAM,OAAO,GAAG,IAAI,gEAAW,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;QACxE,MAAM,OAAO,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IAC3C,CAAC;IAED,kBAAkB,CAAC,QAAgB,EAAE,SAAiB;QACpD,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,GAAG,mCAAmC,CAAC;QACzE,MAAM,OAAO,GAAG,IAAI,gEAAW,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;QACxE,MAAM,MAAM,GAAG;YACb,QAAQ,EAAE,QAAQ;YAClB,SAAS,EAAE,SAAS;SACrB,CAAC;QACF,MAAM,OAAO,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;QACrD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED,cAAc,CAAC,QAAa,EAAE,KAAU;QACtC,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,GAAG,kCAAkC,CAAC;QACxE,MAAM,OAAO,GAAG,IAAI,gEAAW,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;QACxE,MAAM,MAAM,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QACjC,MAAM,OAAO,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC;QACpD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED,gBAAgB,CAAC,GAAG;QAClB,MAAM,OAAO,GAAG,IAAI,gEAAW,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;QACxE,MAAM,OAAO,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACrC,CAAC;CACF;;YA5DQ,+DAAU;YAEV,8DAAa;;AAGT,aAAa;IADzB,gEAAU,EAAE;qCAKe,+DAAU,EAAkB,8DAAa;GAJxD,aAAa,CAuDzB;AAvDyB;;;;;;;;;;;;;ACtB1B;AAAe,yLAA0H,wiBAAwiB,2OAA2O,glBAAglB,qNAAqN,KAAK,YAAY,kHAAkH,k8BAAk8B,eAAe,4DAA4D,eAAe,+PAA+P,+RAA+R,6fAA6f,4DAA4D,YAAY,gMAAgM,2OAA2O,KAAK,aAAa,wHAAwH,ghCAAghC,eAAe,gEAAgE,eAAe,qRAAqR,gZAAgZ,E;;;;;;;;;;;;ACA3wM;AAAe,gFAAiB,gCAAgC,iBAAiB,GAAG,iDAAiD,uTAAuT,E;;;;;;;;;;;;ACA5b;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAEH,6EAA6E;AAC7E,0EAA0E;AAC1E,0DAA0D;AAC1D,oDAAoD;AAE7C,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;;;;;;ACvBF;AAAe,+KAAgH,wgBAAwgB,oBAAoB,0BAA0B,GAAG,kBAAkB,yBAAyB,GAAG,kBAAkB,mBAAmB,mBAAmB,GAAG,6CAA6C,22CAA22C,E;;;;;;;;;;;;ACAzrE;AAAe,+KAAgH,miBAAmiB,uCAAuC,4BAA4B,8BAA8B,yBAAyB,mBAAmB,0BAA0B,GAAG,uCAAuC,8BAA8B,yBAAyB,mBAAmB,0BAA0B,GAAG,mCAAmC,6BAA6B,GAAG,yBAAyB,uCAAuC,GAAG,iBAAiB,kCAAkC,iCAAiC,4BAA4B,4CAA4C,GAAG,kBAAkB,qBAAqB,iCAAiC,GAAG,6CAA6C,+0EAA+0E,E;;;;;;;;;;;;ACAtsH;AAAe,+KAAgH,wgBAAwgB,oBAAoB,0BAA0B,GAAG,kBAAkB,yBAAyB,GAAG,kBAAkB,mBAAmB,mBAAmB,GAAG,6CAA6C,u2CAAu2C,E;;;;;;;;;;;;ACArrE;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAIkD;AAE9C,MAAM,YAAY,GAAW;IAClC,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,iEAAe,EAAE;CAC/C,CAAC;;;;;;;;;;;;;ACtBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAEsD;AACJ;AAKR;AACjB;IAQf,iBAAiB,SAAjB,iBAAiB;IAiC1B,YAAoB,OAA4B,EAAU,WAAwB;QAA9D,YAAO,GAAP,OAAO,CAAqB;QAAU,gBAAW,GAAX,WAAW,CAAa;IAAI,CAAC;IAxBvF,IACI,KAAK,CAAC,KAAU;QAChB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IACD,IAAI,KAAK,KAAK,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAEnC,IACI,KAAK,CAAC,KAAU;QAChB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;IACnC,CAAC;IACD,IAAI,KAAK,KAAK,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAEnC,IACI,YAAY,CAAC,YAAoB;QACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,IACI,OAAO,CAAC,OAAY;QACpB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC5B,CAAC;IAID,QAAQ;QACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,YAAY;aACjB,YAAY,CAAC,GAAG,CAAC;aACjB,oBAAoB,EAAE;aACtB,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,UAAU,CAAC,IAAS;QAChB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC/B,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,IAAI,CAAC,MAAM;SACtB,CAAC,CAAC;IACP,CAAC;IAED,UAAU,CAAC,KAAU,EAAE,GAAQ;QAC3B,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,IAAI,CAAC,IAAI;QACL,IAAI,CAAC,KAAK,GAAG,4CAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;CACJ;;YA3EQ,kEAAmB;YAKnB,0DAAW;;;oBAkBf,mDAAK;oBAML,mDAAK;2BAOL,mDAAK;sBAML,mDAAK;;AA5BG,iBAAiB;IAN7B,+DAAS,CAAC;QACP,QAAQ,EAAE,eAAe;QACzB,sFAAyC;QAEzC,SAAS,EAAE,CAAC,0DAAW,CAAC;;KAC3B,CAAC;qCAkC+B,kEAAmB,EAAuB,0DAAW;GAjCzE,iBAAiB,CA6D7B;AA7D6B;;;;;;;;;;;;;AC/B9B;AAAe,+KAAgH,ghBAAghB,yBAAyB,gBAAgB,kBAAkB,GAAG,6CAA6C,mrCAAmrC,E;;;;;;;;;;;;ACA76D;AAAe,yLAA0H,siBAAsiB,6WAA6W,iNAAiN,kUAAkU,8BAA8B,sMAAsM,KAAK,WAAW,kHAAkH,kxBAAkxB,YAAY,mRAAmR,uBAAuB,+YAA+Y,8BAA8B,yaAAya,iBAAiB,ijBAAijB,kCAAkC,sMAAsM,KAAK,WAAW,kHAAkH,kxBAAkxB,YAAY,6SAA6S,iBAAiB,ymBAAymB,E;;;;;;;;;;;;ACAp6M;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAGoD;AAEJ;AACe;AACZ;AACH;AAE5C,MAAM,MAAM,GAAW;IAC5B;QACI,IAAI,EAAE,EAAE;QACR,UAAU,EAAE,QAAQ;QACpB,SAAS,EAAE,MAAM;KACpB;IACD,GAAG,+DAAW;IACd,GAAG,8EAAgB;IACnB,GAAG,kEAAY;IACf,GAAG,+DAAW;CACf,CAAC;AAEK,MAAM,OAAO,GAAsC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;;;;;;;;;;;;ACpCvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAE6D;AACP;IAc5C,YAAY,SAAZ,YAAY;IAmBrB,YAAoB,MAAc,EAAU,KAAqB;QAA7C,WAAM,GAAN,MAAM,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAgB;QAjBjE,UAAK,GAAqB;YACtB,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE;YAClC,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY,EAAE;YAC5C,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE;YAClC,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE;SACvC,CAAC;QACF,YAAO,GAAG,KAAK,CAAC;IAYhB,CAAC;IAVM,eAAe;QAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,YAAY,CAAC,KAAa,EAAE,eAAwB;QAChD,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;IACjC,CAAC;CAIJ;;YAnCQ,sDAAM;YAAE,8DAAc;;AAclB,YAAY;IALxB,+DAAS,CAAC;QACP,QAAQ,EAAE,UAAU;QACpB,gFAAiC;;KAEpC,CAAC;qCAoB8B,sDAAM,EAAiB,8DAAc;GAnBxD,YAAY,CAqBxB;AArBwB;IA2BZ,gBAAgB,SAAhB,gBAAgB;IAEzB,IACI,OAAO,CAAC,IAAY;QACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACzB,CAAC;CACJ;;sBAJI,mDAAK;;AAFG,gBAAgB;IAJ5B,+DAAS,CAAC;QACP,QAAQ,EAAE,cAAc;QACxB,QAAQ,EAAE,cAAc;KAC3B,CAAC;GACW,gBAAgB,CAM5B;AAN4B;;;;;;;;;;;;;AC1D7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAE+C;AACG;AAIzB;IAOf,mBAAmB,SAAnB,mBAAmB;IAK5B,YAAoB,OAA4B;QAA5B,YAAO,GAAP,OAAO,CAAqB;IAAI,CAAC;IAErD,QAAQ;QACJ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC5C,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,KAAK,IAAI,EAAE;YACtB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,8CAAS,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,GAAG,EAAE,EAAE;gBAC5C,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;gBACd,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;SACN;QACD,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,KAAK,IAAI,EAAE;YACtB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,8CAAS,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,GAAG,EAAE,EAAE;gBAC5C,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;gBACd,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,qBAAqB,CAAC,KAAK;QACvB,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,8CAAS,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,EAAE;YACvC,IAAI,IAAI,CAAC,EAAE,KAAK,KAAK,CAAC,KAAK,CAAC,EAAE,EAAE;gBAC5B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC;gBACzC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;QACL,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;IAClD,CAAC;IAED,uBAAuB,CAAC,KAAK;QACzB,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,8CAAS,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,EAAE;YACvC,8CAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,MAAW,EAAE,EAAE;gBACrC,IAAI,MAAM,CAAC,EAAE,KAAK,KAAK,CAAC,KAAK,CAAC,EAAE,EAAE;oBAC9B,MAAM,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC;oBAC3C,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;iBAC1B;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;IAClD,CAAC;CAEJ;;YA9DQ,kEAAmB;;AAWf,mBAAmB;IAL/B,+DAAS,CAAC;QACP,QAAQ,EAAE,gBAAgB;QAC1B,uFAA0C;;KAE7C,CAAC;qCAM+B,kEAAmB;GALvC,mBAAmB,CAmD/B;AAnD+B;;;;;;;;;;;;;AC5BhC;AAAe,yLAA0H,2pBAA2pB,6NAA6N,suBAAsuB,aAAa,kMAAkM,YAAY,gTAAgT,4aAA4a,E;;;;;;;;;;;;ACA9pF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAE+C;AACG;AAEM;AAE/B;IAQf,cAAc,SAAd,cAAc;IAMvB,YAAoB,OAA4B,EAAU,aAA4B;QAAlE,YAAO,GAAP,OAAO,CAAqB;QAAU,kBAAa,GAAb,aAAa,CAAe;IAAI,CAAC;IAE3F,QAAQ;QACJ,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,WAAW,KAAK,IAAI,EAAE;YACtB,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;YACzB,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;aAAM;YACH,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;IACL,CAAC;IAED,QAAQ;QACJ,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,KAAK,IAAI,EAAE;YACtB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACpB,8CAAS,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,EAAE;gBACvC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;oBAChB,IAAI,EAAE,IAAI,CAAC,KAAK;oBAChB,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI,kBAAkB;oBACvC,iBAAiB,EAAE,IAAI,CAAC,iBAAiB,IAAI,EAAE;oBAC/C,iBAAiB,EAAE,IAAI;oBACvB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM;oBAC5B,IAAI,EAAE,IAAI;iBACb,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED,UAAU;QACN,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE;aAC9B,SAAS,CACV,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,EAClD,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAQ,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,UAAU,CAAC,KAAK;QACZ,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAED,UAAU;QACN,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YACZ,IAAI,EAAE,UAAU;YAChB,iBAAiB,EAAE,IAAI;YACvB,UAAU,EAAE,IAAI;YAChB,KAAK,EAAE,EAAE;YACT,iBAAiB,EAAE,IAAI;SAC1B,CAAC,CAAC;IACP,CAAC;IAED,WAAW,CAAC,WAAW;QACnB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,8CAAS,CAAC,WAAW,EAAE,CAAC,IAAS,EAAE,GAAG,EAAE,EAAE;YACtC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC/B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAED,WAAW,CAAC,KAAK;QACb,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IAED,eAAe,CAAC,KAAK;QACjB,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC;QACzB,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,KAAK,IAAI,EAAE;YACtB,8CAAS,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,EAAE;gBACvC,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI,EAAE;oBAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACxB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC;iBACnD;YACL,CAAC,CAAC,CAAC;SACN;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;IAClD,CAAC;CACJ;;YArGQ,kEAAmB;YAEnB,sEAAa;;AAUT,cAAc;IAN1B,+DAAS,CAAC;QACP,QAAQ,EAAE,WAAW;QACrB,kFAAqC;QAErC,SAAS,EAAE,CAAC,sEAAa,CAAC;;KAC7B,CAAC;qCAO+B,kEAAmB,EAAyB,sEAAa;GAN7E,cAAc,CAyF1B;AAzF0B;;;;;;;;;;;;;AC7B3B;AAAe,yLAA0H,8nBAA8nB,uCAAuC,kBAAkB,4TAA4T,eAAe,iFAAiF,E;;;;;;;;;;;;ACA5tC;AAAe,yLAA0H,qkBAAqkB,0/BAA0/B,cAAc,mlBAAmlB,cAAc,qeAAqe,mBAAmB,iQAAiQ,6JAA6J,WAAW,sHAAsH,oHAAoH,WAAW,wNAAwN,mBAAmB,+OAA+O,mBAAmB,yaAAya,E;;;;;;;;;;;;ACAn2I;AAAe,+KAAgH,wgBAAwgB,oBAAoB,0BAA0B,GAAG,gBAAgB,qBAAqB,GAAG,uBAAuB,yBAAyB,gBAAgB,kBAAkB,GAAG,yBAAyB,yBAAyB,gBAAgB,kBAAkB,GAAG,6CAA6C,mjDAAmjD,E;;;;;;;;;;;;ACA5+E;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAIgD;AAE5C,MAAM,WAAW,GAAW;IACjC,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,+DAAc,EAAE;CAC7C,CAAC;;;;;;;;;;;;;ACtBF;AAAe,+KAAgH,wgBAAwgB,oBAAoB,0BAA0B,GAAG,kBAAkB,yBAAyB,GAAG,kBAAkB,mBAAmB,mBAAmB,GAAG,6CAA6C,u2CAAu2C,E;;;;;;;;;;;;ACArrE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;AAEuD;AACjB;AACsC;AAClC;AACS;AACM;AACN;AACE;AACF;AACE;AACT;AACM;AACE;AACE;AACiB;AACA;AACrB;AACO;AACH;AACF;AACR;AAC2B;AACvB;AAC6B;AACR;AACmB;AACpD;AACsC;IA2ChE,SAAS,SAAT,SAAS;CAMrB;AANY,SAAS;IAzCrB,8DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,4DAAY;YACZ,sEAAc;YACd,uFAAiB;YACjB,uFAAiB;YACjB,yEAAe;YACf,sEAAc;YACd,uFAAiB;YACjB,6FAAmB;YACnB,qFAAmB;YACnB,wGAAqB;YACrB,gEAAgB;SACjB;QACD,OAAO,EAAE;YACP,oEAAa;YACb,sEAAc;YACd,oEAAa;YACb,oEAAa;YACb,0EAAgB;YAChB,qEAAgB;YAChB,uEAAa;YACb,qEAAgB;YAChB,0DAAW;YACX,sEAAgB;YAChB,kEAAmB;YACnB,mEAAmB,CAAC,OAAO,EAAE;YAC7B,4FAAuB;YACvB,6DAAY;YACZ,oDAAO;YACP,8DAAY,CAAC,OAAO,CAAC;gBACnB,OAAO,EAAE,8DAAY;gBACrB,UAAU,EAAE,CAAC,+DAAa,CAAC;aAC5B,CAAC;SACH;QACD,eAAe,EAAE;YACf,4DAAY;SACb;QACD,SAAS,EAAE,EAAE;QACb,SAAS,EAAE,CAAC,4DAAY,CAAC;KAC1B,CAAC;GACW,SAAS,CAMrB;AANqB;;;;;;;;;;;;;ACtFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAE6E;AAC3B;AACS;AACzB;AACT;IAQf,qBAAqB,SAArB,qBAAqB;IAgB9B,YAAoB,OAA4B,EAAU,aAA4B;QAAlE,YAAO,GAAP,OAAO,CAAqB;QAAU,kBAAa,GAAb,aAAa,CAAe;QAF5E,iBAAY,GAAG,IAAI,0DAAY,EAAE,CAAC;IAE8C,CAAC;IAV3F,IACI,cAAc,CAAC,cAAmB;QAClC,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;IAC1C,CAAC;IACD,IAAI,cAAc;QACd,OAAO,IAAI,CAAC,eAAe,CAAC;IAChC,CAAC;IAMD,QAAQ;QACJ,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,WAAW,KAAK,IAAI,EAAE;YACtB,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;SACnC;aAAM;YACH,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;IACL,CAAC;IAED,UAAU;QACN,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE;aAC9B,SAAS,CACV,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,EAClD,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAQ,KAAK,CAAC,CAAC;IACjD,CAAC;IAED,WAAW,CAAC,WAAW;QACnB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,8CAAS,CAAC,WAAW,EAAE,CAAC,IAAS,EAAE,GAAG,EAAE,EAAE;YACtC,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;YACtC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACnD,CAAC;IAED,cAAc;QACV,MAAM,IAAI,GAAG,kDAAI,CAAC,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE;YAClC,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,EAAE,CAAC;SACxC;QACD,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,IAAI,CAAC;YACjC,EAAE,EAAE,IAAI;YACR,IAAI,EAAE,cAAc;YACpB,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,QAAQ;SAC9C,CAAC,CAAC;IACP,CAAC;IAED,cAAc,CAAC,UAAU;QACrB,IAAI,CAAC,eAAe,CAAC,UAAU,GAAG,6CAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC,QAAa,EAAE,EAAE;YAC1F,OAAO,QAAQ,CAAC,EAAE,KAAK,UAAU,CAAC;QACtC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,IAAI;QACA,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACnB,KAAK,EAAE,IAAI,CAAC,cAAc;SAC7B,CAAC,CAAC;IACP,CAAC;CACJ;;YA9EQ,kEAAmB;YACnB,sEAAa;;;6BAgBjB,mDAAK;2BAQL,oDAAM;;AAdE,qBAAqB;IANjC,+DAAS,CAAC;QACP,QAAQ,EAAE,mBAAmB;QAC7B,0FAA6C;QAE7C,SAAS,EAAE,CAAC,sEAAa,CAAC;;KAC7B,CAAC;qCAiB+B,kEAAmB,EAAyB,sEAAa;GAhB7E,qBAAqB,CAmEjC;AAnEiC;;;;;;;;;;;;AC5BlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAEsD;AACJ;AACR;AAKR;AACT;IAUf,mBAAmB,SAAnB,mBAAmB;IAoB5B,YAAoB,OAA4B,EAAU,WAAwB;QAA9D,YAAO,GAAP,OAAO,CAAqB;QAAU,gBAAW,GAAX,WAAW,CAAa;IAAI,CAAC;IAbvF,IACI,KAAK,CAAC,KAAU;QAChB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IACD,IAAI,KAAK,KAAK,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAEnC,IACI,YAAY,CAAC,YAAoB;QACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC3C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,EAAE,CAAC;QAC1C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnC,CAAC;IAID,QAAQ;QACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACvD,CAAC;IAED,UAAU,CAAC,QAAa;QACpB,MAAM,UAAU,GAAG,EAAE,CAAC;QACtB,8CAAS,CAAC,QAAQ,EAAE,CAAC,MAAW,EAAE,EAAE;YAChC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC;QACxC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC/C,IAAI,CAAC,IAAI,CAAC,YAAY;aACjB,YAAY,CAAC,GAAG,CAAC;aACjB,oBAAoB,EAAE;aACtB,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,YAAY;QACR,MAAM,IAAI,GAAG,kDAAI,CAAC,IAAI,EAAE,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YACf,EAAE,EAAE,IAAI;YACR,IAAI,EAAE,YAAY;YAClB,UAAU,EAAE,EAAE;SACjB,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,YAAY,CAAC,QAAQ;QACjB,IAAI,CAAC,QAAQ,GAAG,6CAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,MAAW,EAAE,EAAE;YACpD,OAAO,MAAM,CAAC,EAAE,KAAK,QAAQ,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,IAAI,CAAC,IAAI;QACL,8CAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,MAAW,EAAE,EAAE;YACrC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;CACJ;;YAlFQ,kEAAmB;YACnB,0DAAW;;;oBAuBf,mDAAK;2BAML,mDAAK;;AAbG,mBAAmB;IAN/B,+DAAS,CAAC;QACP,QAAQ,EAAE,iBAAiB;QAC3B,wFAA2C;QAE3C,SAAS,EAAE,CAAC,0DAAW,CAAC;;KAC3B,CAAC;qCAqB+B,kEAAmB,EAAuB,0DAAW;GApBzE,mBAAmB,CAiE/B;AAjE+B;;;;;;;;;;;;;AClChC;AAAe,yLAA0H,oiBAAoiB,yQAAyQ,6CAA6C,oHAAoH,oBAAoB,+DAA+D,qKAAqK,mBAAmB,4KAA4K,wGAAwG,cAAc,omBAAomB,kBAAkB,uTAAuT,kBAAkB,0SAA0S,eAAe,+BAA+B,iBAAiB,6CAA6C,eAAe,0BAA0B,YAAY,wFAAwF,89BAA89B,iBAAiB,mGAAmG,mBAAmB,kiBAAkiB,67BAA67B,cAAc,gGAAgG,gBAAgB,glBAAglB,E;;;;;;;;;;;;ACAx3M;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAE4E;AAC1B;AAES;AAClC;IAQf,iBAAiB,SAAjB,iBAAiB;IAiD1B,YAAoB,OAA4B,EAAU,aAA4B;QAAlE,YAAO,GAAP,OAAO,CAAqB;QAAU,kBAAa,GAAb,aAAa,CAAe;QAF5E,eAAU,GAAG,IAAI,0DAAY,EAAE,CAAC;IAEgD,CAAC;IAvC3F,IACI,IAAI,CAAC,IAAS;QACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,IAAI;YAC7D,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,IAAI;YACnF,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAK,KAAK,MAAM;eAC1C,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,EAAE,EAAG;YACrC,IAAI,CAAC,eAAe,GAAG,gDAAW,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACjE,IAAI,CAAC,eAAe,CAAC,KAAK,GAAG,SAAS,CAAC;YACvC,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACrC,IAAI;gBACA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;gBAC5D,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;aACpC;YAAC,OAAO,CAAC,EAAE;gBACR,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;aACrC;SACJ;aAAM;YACH,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;YAC1B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;SACvC;QACD,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;YACzE,MAAM,oBAAoB,GAAG,gDAAW,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;YACvE,8CAAS,CAAC,oBAAoB,EAAE,CAAC,KAAU,EAAE,EAAE;gBAC3C,MAAM,OAAO,GAAG,gDAAW,CAAC,KAAK,CAAC,CAAC;gBACnC,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC;gBAC1B,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YACjE,CAAC,CAAC,CAAC;SACN;QACD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACnD,CAAC;IACD,IAAI,IAAI;QACJ,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAMD,QAAQ;IAER,CAAC;IAED,kBAAkB,CAAC,IAAY,EAAE,SAAiB;QAC9C,IAAI,IAAI,KAAK,SAAS,IAAI,SAAS,KAAK,SAAS,EAAE;YAC/C,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,EAAE,SAAS,CAAC;iBACjD,SAAS,CACV,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,GAAG,SAAS,EACvC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAQ,KAAK,CAAC,CAAC;SAChD;aAAM;YACH,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;SAC9B;QACD,IAAG,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE;YAC9B,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAAG,EAAE,CAAC;SACrC;IACL,CAAC;IAED,iBAAiB,CAAC,OAAgB,EAAE,SAAc;QAC9C,IAAI,OAAO,EAAE;YACT,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE;gBAC/B,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAAG,EAAE,CAAC;aACrC;YACD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC;gBAC9B,KAAK,EAAE,SAAS;aACnB,CAAC,CAAC;YACH,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,SAAS,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;gBACjG,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;aAC3C;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,kBAAkB,EAAE,gDAAW,CAAC,SAAS,CAAC,CAAC,CAAC;aACjG;SACJ;aAAM;YACH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC1D,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,SAAS,EAAE;oBACrD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAC7C;aACJ;SACJ;IACL,CAAC;IAED,UAAU,CAAC,KAAU,EAAE,GAAW,EAAE,YAAqB;QACrD,IAAI,GAAG,KAAK,iBAAiB,EAAE;YAC3B,IAAG,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,IAAI,EAAE;gBAC9D,IAAI;oBACA,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBACtD,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC;oBACxD,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAAG,YAAY,CAAC;oBAC5C,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;iBACpC;gBAAC,OAAO,CAAC,EAAE;oBACR,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAK,KAAK,MAAM,EAAE;wBACxF,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;qBACrC;yBAAM;wBACH,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;qBACpC;iBACJ;aACJ;iBAAM;gBACH,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;aACpC;SACJ;aAAM,IAAI,GAAG,KAAK,kBAAkB,EAAE;YACnC,IAAI;gBACA,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC;gBACrE,YAAY,CAAC,KAAK,GAAG,YAAY,CAAC;gBAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC1D,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,YAAY,EAAE;wBACxD,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,YAAY,CAAC;qBAClD;iBACJ;gBACD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;aACnC;YAAC,OAAO,CAAC,EAAE;gBACR,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACzE,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;iBACpC;qBAAM;oBACH,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;iBACnC;aACJ;SACJ;aAAM;YACH,IAAI,CAAC,YAAY,EAAE;gBACf,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;aAC3B;iBAAM;gBACH,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;gBACrB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;aACzC;YACD,IAAI,GAAG,KAAK,MAAM,IAAI,GAAG,KAAK,OAAO,EAAE;gBACnC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;aAC9D;YACD,IAAI,GAAG,KAAK,mBAAmB,IAAI,KAAK,KAAK,MAAM,EAAE;gBACjD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,eAAe,EAAE,iBAAiB,EAAE,SAAS,CAAC,CAAC;aACvE;SACJ;QACD,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,KAAK,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAK,KAAK,MAAM,EAAE;YACxF,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;SACxC;aAAM;YACH,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;SACvC;IACL,CAAC;IAED,eAAe,CAAC,SAAS;QACrB,IAAI,MAAM,GAAG,KAAK,CAAC;QACnB,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE;YAC9B,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC5C,IAAI,CAAC,CAAC,KAAK,KAAK,SAAS,EAAE;oBACvB,MAAM,GAAG,IAAI,CAAC;iBACjB;YACL,CAAC,CAAC,CAAC;SACN;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,IAAI;QACA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACjB,KAAK,EAAE,IAAI,CAAC,KAAK;SACpB,CAAC,CAAC;IACP,CAAC;CACJ;;YA/KQ,kEAAmB;YAEnB,sEAAa;;;mBAmBjB,mDAAK;yBAqCL,oDAAM;;AA/CE,iBAAiB;IAN7B,+DAAS,CAAC;QACP,QAAQ,EAAE,eAAe;QACzB,sFAAyC;QAEzC,SAAS,EAAE,CAAC,sEAAa,CAAC;;KAC7B,CAAC;qCAkD+B,kEAAmB,EAAyB,sEAAa;GAjD7E,iBAAiB,CAoK7B;AApK6B;;;;;;;;;;;;;AC5B9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAE+C;AAEU;AACP;AACrB;IAYnB,cAAc,SAAd,cAAc;IAUvB,YAAoB,OAA4B;QAA5B,YAAO,GAAP,OAAO,CAAqB;IAAI,CAAC;IAErD,UAAU,CAAC,MAAM;QACb,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,YAAY;QACR,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;IAClC,CAAC;IAED,UAAU,CAAC,MAAM;QACb,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,YAAY;QACR,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;IAClC,CAAC;IAED,SAAS,CAAC,IAAI,EAAE,QAAQ;QACpB,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;YACtB,IAAI,CAAC,KAAK,GAAG,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SACxD;QACD,QAAQ,CAAC,IAAI,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACjD,CAAC;IAED,SAAS,CAAC,IAAI,EAAE,QAAQ;QACpB,IAAI,IAAI,CAAC,EAAE,KAAK,SAAS,EAAE;YACvB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;YAClB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;gBAC1B,IAAI,CAAC,KAAK,GAAG,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;aACxD;SACJ;QACD,QAAQ,CAAC,IAAI,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACjD,CAAC;IAED,QAAQ;QACJ,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,KAAK,IAAI,EAAE;YACtB,MAAM,SAAS,GAAG,EAAE,CAAC;YACrB,sDAAO,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,UAAe,EAAE,EAAE;gBAC3C,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,KAAK,GAAG,IAAI,2CAAO,CAAC,SAAS,CAAC,CAAC;SACvC;aAAM;YACH,IAAI,CAAC,KAAK,GAAG,IAAI,2CAAO,EAAE,CAAC;SAC9B;QAED,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,KAAK,IAAI,EAAE;YACtB,MAAM,SAAS,GAAG,EAAE,CAAC;YACrB,sDAAO,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,UAAe,EAAE,EAAE;gBAC3C,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,KAAK,GAAG,IAAI,2CAAO,CAAC,SAAS,CAAC,CAAC;SACvC;aAAM;YACH,IAAI,CAAC,KAAK,GAAG,IAAI,2CAAO,EAAE,CAAC;SAC9B;QAED,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QACzD,IAAI,CAAC,IAAI,GAAG;YACR,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,KAAK,EAAE,IAAI,CAAC,KAAK;SACpB,CAAC;QACF,IAAI,CAAC,OAAO,GAAG;YACX,KAAK,EAAE;gBACH,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,EAAE;gBACR,IAAI,EAAE;oBACF,IAAI,EAAE,EAAE;iBACX;gBACD,WAAW,EAAE,CAAC;gBACd,MAAM,EAAE,IAAI;aACf;YACD,KAAK,EAAE;gBACH,KAAK,EAAE,CAAC;gBACR,MAAM,EAAE,IAAI;aACf;YACD,UAAU,EAAE,IAAI;YAChB,MAAM,EAAE,OAAO;YACf,YAAY,EAAE;gBACV,OAAO,EAAE,IAAI;gBACb,eAAe,EAAE,IAAI;gBACrB,OAAO,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC;gBAC3D,OAAO,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC;gBAC3D,QAAQ,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC;gBAC5D,UAAU,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC;gBAC9D,UAAU,EAAE,CAAC,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC;gBAC9D,gBAAgB,EAAE,EAAE;aACvB;SACJ,CAAC;QAEF,IAAI,CAAC,OAAO,GAAG,IAAI,2CAAO,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACpE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QAC/D,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;IACnE,CAAC;CAEJ;;YA9HQ,kEAAmB;;AAaf,cAAc;IAL1B,+DAAS,CAAC;QACP,QAAQ,EAAE,WAAW;QACrB,kFAAqC;;KAExC,CAAC;qCAW+B,kEAAmB;GAVvC,cAAc,CAiH1B;AAjH0B;;;;;;;;;;;;;AChC3B;AAAe,+KAAgH,wgBAAwgB,oBAAoB,0BAA0B,GAAG,sBAAsB,qBAAqB,GAAG,6BAA6B,yBAAyB,gBAAgB,kBAAkB,GAAG,+BAA+B,yBAAyB,gBAAgB,kBAAkB,GAAG,6CAA6C,ulDAAulD,E;;;;;;;;;;;;ACAliF;AAAe,6GAA8C,mIAAmI,E;;;;;;;;;;;;ACAhM;AAAe,+KAAgH,wgBAAwgB,oBAAoB,0BAA0B,GAAG,kBAAkB,yBAAyB,GAAG,kBAAkB,mBAAmB,mBAAmB,GAAG,6CAA6C,u2CAAu2C,E;;;;;;;;;;;;ACArrE;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAIgD;AAE5C,MAAM,WAAW,GAAW;IACjC,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,+DAAc,EAAE;IAC9C,yDAAyD;CACxD,CAAC;;;;;;;;;;;;;ACvBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAEsD;AACJ;AAGR;AACjB;IASf,iBAAiB,SAAjB,iBAAiB;IAuB1B,YAAoB,OAA4B,EAAU,WAAwB;QAA9D,YAAO,GAAP,OAAO,CAAqB;QAAU,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAjBtF,IACI,KAAK,CAAC,KAAU;QAChB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IACD,IAAI,KAAK,KAAK,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAEnC,IACI,YAAY,CAAC,YAAiB;QAC9B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAED,IACI,OAAO,CAAC,OAAY;QACpB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;IAC5B,CAAC;IAID,QAAQ;QACJ,IAAI,CAAC,IAAI,CAAC,YAAY;aACjB,YAAY,CAAC,GAAG,CAAC;aACjB,oBAAoB,EAAE;aACtB,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,UAAU,CAAC,IAAS;QAChB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC/B,KAAK,EAAE,IAAI,CAAC,KAAK;SACpB,CAAC,CAAC;IACP,CAAC;IAED,IAAI,CAAC,IAAI;QACL,IAAI,CAAC,KAAK,GAAG,4CAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAClD,CAAC;CACJ;;YAxDQ,kEAAmB;YAGnB,0DAAW;;;oBAgBf,mDAAK;2BAML,mDAAK;sBAML,mDAAK;;AAlBG,iBAAiB;IAN7B,+DAAS,CAAC;QACP,QAAQ,EAAE,eAAe;QACzB,sFAAyC;QAEzC,SAAS,EAAE,CAAC,0DAAW,CAAC;;KAC3B,CAAC;qCAwB+B,kEAAmB,EAAuB,0DAAW;GAvBzE,iBAAiB,CA2C7B;AA3C6B;;;;;;;;;;;;;AC9B9B;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAI0D;AAEtD,MAAM,gBAAgB,GAAW;IACtC,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,yEAAmB,EAAE;CACvD,CAAC;;;;;;;;;;;;;ACtBF;AAAe,yLAA0H,8jBAA8jB,qOAAqO,E;;;;;;;;;;;;ACA56B;AAAe,yLAA0H,iqBAAiqB,0CAA0C,4NAA4N,qDAAqD,odAAod,ibAAib,iaAAia,2WAA2W,E;;;;;;;;;;;;ACAtvF;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAEwE;AAC5B;AACU;AACZ;AAE7C,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,gGAAsB,EAAE,CAAC,eAAe,CAAC,yDAAS,CAAC,CAAC;;;;;;;;;;;;;ACzBpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;;;;;;;;;;;;AAE+C;AACO;AACA;AACJ;AACM;AACtB;AACT;AACE;AACH;IAQd,eAAe,SAAf,eAAe;IA0SxB,YAAoB,OAA4B,EAAU,aAA4B,EAClE,MAAc,EAAU,KAAqB,EAAU,SAAuB;QAD9E,YAAO,GAAP,OAAO,CAAqB;QAAU,kBAAa,GAAb,aAAa,CAAe;QAClE,WAAM,GAAN,MAAM,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAc;IAAI,CAAC;IAlRvG,aAAa;QACT,IAAI,CAAC,QAAQ,GAAG;YACZ,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;SACf,CAAC;QACF,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;YACrC,8CAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,EAAE;gBAC7C,IAAI,QAAQ,GAAG,MAAM,CAAC;gBACtB,IAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;oBACtB,QAAQ,GAAG,OAAO,CAAC;iBACtB;gBACD,MAAM,aAAa,GAAG;oBAClB,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;oBACjC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC;oBACpC,QAAQ,EAAE,QAAQ;oBAClB,UAAU,EAAE,EAAE;iBACjB,CAAC;gBACF,8CAAS,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,QAAa,EAAE,EAAE;oBACzC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAC5D,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,aAAa,CAAC;YACpD,CAAC,CAAC,CAAC;SACN;QACD,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;YACrC,8CAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,EAAE;gBAC7C,8CAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,MAAW,EAAE,EAAE;oBACrC,MAAM,eAAe,GAAG;wBACpB,MAAM,EAAE,IAAI,CAAC,KAAK;wBAClB,UAAU,EAAE,EAAE;qBACjB,CAAC;oBACF,8CAAS,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,QAAa,EAAE,EAAE;wBAC3C,eAAe,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC;oBAC9D,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,eAAe,CAAC;gBAC1D,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;SACN;QACD,IAAI,CAAC,gBAAgB,GAAG,+BAA+B;YACnD,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACnE,CAAC;IAED,UAAU;QACN,IAAI,CAAC,KAAK,GAAG;YACT,KAAK,EAAE,EAAE;SACZ,CAAC;QACF,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;YACrC,8CAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,EAAE;gBACvC,MAAM,aAAa,GAAG;oBAClB,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI,kBAAkB;oBACvC,iBAAiB,EAAE,IAAI,CAAC,iBAAiB,IAAI,SAAS;oBACtD,iBAAiB,EAAE,IAAI,CAAC,iBAAiB,IAAI,IAAI;oBACjD,UAAU,EAAE,IAAI,CAAC,UAAU,IAAI,IAAI;iBACtC,CAAC;gBACF,IAAG,aAAa,CAAC,iBAAiB,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;oBAC7F,aAAa,CAAC,iBAAiB,GAAG,IAAI,CAAC;iBAC1C;gBACD,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,aAAa,CAAC;YAChD,CAAC,CAAC,CAAC;SACN;QACD,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;YACrC,8CAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,IAAS,EAAE,EAAE;gBAC7C,MAAM,aAAa,GAAG;oBAClB,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI,kBAAkB;oBACvC,iBAAiB,EAAE,IAAI,CAAC,iBAAiB,IAAI,SAAS;iBACzD,CAAC;gBACF,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,aAAa,CAAC;YACjD,CAAC,CAAC,CAAC;SACN;QAED,IAAI,CAAC,aAAa,GAAG,+BAA+B;YAChD,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IAChE,CAAC;IAED,QAAQ,CAAC,GAAW;QAChB,OAAO,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;IACtD,CAAC;IAED,WAAW;QACP,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC;IAC3B,CAAC;IAED,cAAc,CAAC,GAAW;QACtB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QACzB,oCAAC,CAAC,GAAG,GAAG,GAAG,GAAG,UAAU,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IAC/C,CAAC;IAED,cAAc,CAAC,KAAK;QAChB,IAAI,UAAU,CAAC;QACf,IAAI,KAAK,EAAE;YACP,UAAU,GAAG,KAAK,CAAC;SACtB;aAAM;YACH,IAAI;gBACA,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,oCAAC,CAAC,mBAAmB,CAAC,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;aACpE;YAAC,OAAO,CAAC,EAAE;gBACR,UAAU,GAAG,SAAS,CAAC;gBACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,wBAAwB,GAAG,CAAC,CAAC,OAAO,CAAC;aAC/D;SACJ;QACD,IAAI,UAAU,EAAE;YACZ,MAAM,KAAK,GAAG,IAAI,2CAAO,EAAE,CAAC;YAC5B,MAAM,KAAK,GAAG,IAAI,2CAAO,EAAE,CAAC;YAC5B,MAAM,QAAQ,GAAG,EAAE,CAAC;YACpB,MAAM,QAAQ,GAAG,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,SAAS,CAAC;YACjC,IAAI,UAAU,CAAC,KAAK,EAAE;gBAClB,8CAAS,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,UAAe,EAAE,QAAQ,EAAE,EAAE;oBACtD,IAAI,MAAM,CAAC;oBACX,IAAI,IAAI,CAAC;oBACT,IAAI,CAAC,2CAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE;wBACjD,MAAM,GAAG,kDAAI,CAAC,IAAI,EAAE,CAAC;wBACrB,QAAQ,CAAC,IAAI,CAAC;4BACV,EAAE,EAAE,MAAM;4BACV,QAAQ,EAAE,EAAE;4BACZ,KAAK,EAAE,UAAU,CAAC,MAAM;yBAC3B,CAAC,CAAC;qBACN;yBAAM;wBACH,MAAM,GAAG,2CAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;qBAC9D;oBACD,IAAI,CAAC,2CAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,UAAU,CAAC,WAAW,EAAE,CAAC,EAAE;wBACtD,IAAI,GAAG,kDAAI,CAAC,IAAI,EAAE,CAAC;wBACnB,QAAQ,CAAC,IAAI,CAAC;4BACV,EAAE,EAAE,IAAI;4BACR,QAAQ,EAAE,EAAE;4BACZ,KAAK,EAAE,UAAU,CAAC,WAAW;yBAChC,CAAC,CAAC;qBACN;yBAAM;wBACH,IAAI,GAAG,2CAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,UAAU,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC;qBACjE;oBACD,MAAM,KAAK,GAAG,EAAE,CAAC;oBACjB,8CAAS,CAAC,UAAU,CAAC,UAAU,EAAE,CAAC,KAAa,EAAE,IAAI,EAAE,EAAE;wBACrD,KAAK,CAAC,IAAI,CAAC;4BACP,EAAE,EAAE,kDAAI,CAAC,IAAI,EAAE;4BACf,IAAI,EAAE,IAAI;4BACV,IAAI,EAAE,KAAK;yBACd,CAAC,CAAC;oBACP,CAAC,CAAC,CAAC;oBACH,QAAQ,CAAC,IAAI,CAAC;wBACV,EAAE,EAAE,kDAAI,CAAC,IAAI,EAAE;wBACf,IAAI,EAAE,MAAM;wBACZ,KAAK,EAAE,QAAQ;wBACf,UAAU,EAAE,KAAK;wBACjB,MAAM,EAAE,GAAG;wBACX,MAAM,EAAE,IAAI;wBACZ,EAAE,EAAE,IAAI;qBACX,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;aACN;YACD,IAAI,UAAU,CAAC,QAAQ,EAAE;gBACrB,8CAAS,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,YAAiB,EAAE,UAAU,EAAE,EAAE;oBAC7D,IAAI,MAAM,CAAC;oBACX,MAAM,KAAK,GAAG,EAAE,CAAC;oBACjB,8CAAS,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC,KAAa,EAAE,IAAI,EAAE,EAAE;wBACvD,KAAK,CAAC,IAAI,CAAC;4BACP,EAAE,EAAE,kDAAI,CAAC,IAAI,EAAE;4BACf,IAAI,EAAE,IAAI;4BACV,IAAI,EAAE,KAAK;yBACd,CAAC,CAAC;oBACP,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,2CAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE;wBACnD,MAAM,GAAG,kDAAI,CAAC,IAAI,EAAE,CAAC;wBACrB,MAAM,OAAO,GAAG;4BACZ,EAAE,EAAE,MAAM;4BACV,QAAQ,EAAE,EAAE;4BACZ,KAAK,EAAE,YAAY,CAAC,MAAM;yBAC7B,CAAC;wBACF,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC;4BAClB,EAAE,EAAE,kDAAI,CAAC,IAAI,EAAE;4BACf,IAAI,EAAE,UAAU;4BAChB,UAAU,EAAE,KAAK;yBACpB,CAAC,CAAC;wBACH,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;qBAC1B;yBAAM;wBACH,8CAAS,CAAC,QAAQ,EAAE,CAAC,IAAS,EAAE,EAAE;4BAC9B,IAAI,IAAI,CAAC,KAAK,KAAK,YAAY,CAAC,MAAM,EAAE;gCACpC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;oCACf,EAAE,EAAE,kDAAI,CAAC,IAAI,EAAE;oCACf,IAAI,EAAE,UAAU;oCAChB,UAAU,EAAE,KAAK;iCACpB,CAAC,CAAC;6BACN;wBACL,CAAC,CAAC,CAAC;qBACN;gBACL,CAAC,CAAC,CAAC;aACN;YACD,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpB,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YACxC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;YACxC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,KAAK,CAAC;YAC9B,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAED,WAAW,CAAC,KAAK;QACb,IAAI,UAAU,CAAC;QACf,IAAI,KAAK,EAAE;YACP,UAAU,GAAG,KAAK,CAAC;SACtB;aAAM;YACH,IAAI;gBACA,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,oCAAC,CAAC,gBAAgB,CAAC,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;aACjE;YAAC,OAAO,CAAC,EAAE;gBACR,UAAU,GAAG,SAAS,CAAC;gBACvB,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,wBAAwB,GAAG,CAAC,CAAC,OAAO,CAAC;aAC5D;SACJ;QACD,IAAI,UAAU,EAAE;YACZ,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACxD,MAAM,QAAQ,GAAG,EAAE,CAAC;YACpB,IAAI,UAAU,CAAC,KAAK,EAAE;gBAClB,8CAAS,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,UAAe,EAAE,QAAQ,EAAE,EAAE;oBACtD,IAAI,KAAK,GAAG,KAAK,CAAC;oBAClB,8CAAS,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,UAAe,EAAE,QAAQ,EAAE,EAAE;wBACvD,IAAI,UAAU,CAAC,KAAK,KAAK,QAAQ,EAAE;4BAC/B,UAAU,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;4BACpC,UAAU,CAAC,iBAAiB,GAAG,UAAU,CAAC,iBAAiB,CAAC;4BAC5D,KAAK,GAAG,IAAI,CAAC;yBAChB;oBACL,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,KAAK,EAAE;wBACR,QAAQ,CAAC,IAAI,CAAC;4BACV,KAAK,EAAE,UAAU,CAAC,KAAK;4BACvB,IAAI,EAAE,QAAQ;4BACd,iBAAiB,EAAE,UAAU,CAAC,iBAAiB;yBAClD,CAAC,CAAC;qBACN;gBACL,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;gBAC9C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;gBACtC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;aAC9B;SACJ;IACL,CAAC;IAED,gBAAgB;QACZ,MAAM,SAAS,GAAG,EAAE,CAAC;QACrB,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,IAAI,WAAW,EAAE;YACb,8CAAS,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,UAAe,EAAE,QAAQ,EAAE,EAAE;gBACvD,SAAS,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC;YAC3C,CAAC,CAAC,CAAC;SACN;QACD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC/B,CAAC;IAED,WAAW;QACP,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC;aAC9C,SAAS,CACN,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,EACzC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,GAAQ,KAAK,CAAC,CAAC;IACxD,CAAC;IAED,gBAAgB;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;YAC7B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YAChC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;SACrC;IACL,CAAC;IAED,kBAAkB,CAAC,MAAM;QACrB,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;QAC3D,IAAI,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;YAClE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YAC5B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;SAC5B;QACD,IAAI,CAAC,UAAU,GAAG,qCAAqC,CAAC;IAC5D,CAAC;IAKD,QAAQ;QACJ,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QACxD,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,MAAM,GAAG;YACV,KAAK,EAAE,WAAW;YAClB,KAAK,EAAE,WAAW;YAClB,KAAK,EAAE,WAAW;SACrB,CAAC;QACF,IAAI,CAAC,MAAM,GAAG;YACV,QAAQ,EAAE,SAAS;YACnB,KAAK,EAAE,SAAS;SACnB,CAAC;QACF,IAAI,CAAC,OAAO,GAAG;YACX,QAAQ,EAAE,KAAK;YACf,KAAK,EAAE,KAAK;SACf,CAAC;QACF,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,WAAgB,EAAE,EAAE;YAC7C,IAAI,WAAW,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;gBACnC,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,GAAG,CAAC;gBACjC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC;aACpD;iBAAM;gBACH,MAAM,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;gBAC3D,IAAI,eAAe,IAAI,eAAe,KAAK,IAAI,EAAE;oBAC7C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;oBACpD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;iBAC9D;aACJ;QACL,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,oCAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;YACf,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,SAAS,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,uBAAuB,CAAC,CAAC;QAC1F,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;YACX,UAAU,CAAC,GAAG,EAAE;gBACZ,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC;YACnD,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;QACH,IAAI,WAAW,KAAK,IAAI,IAAI,WAAW,KAAK,IAAI,EAAE;YAC9C,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;YAC5B,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;YAC9B,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC;iBACvD,SAAS,CACV,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG,UAAU,EAC1C,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAQ,KAAK,CAAC,CAAC;SAChD;IACL,CAAC;CACJ;;YA3WQ,kEAAmB;YACnB,sEAAa;YAFb,sDAAM;YAAE,8DAAc;YADtB,sEAAY;;AAeR,eAAe;IAN3B,+DAAS,CAAC;QACP,QAAQ,EAAE,YAAY;QACtB,mFAAsC;QAEtC,SAAS,EAAE,CAAC,sEAAa,CAAC;;KAC7B,CAAC;qCA2S+B,kEAAmB,EAAyB,sEAAa;QAC1D,sDAAM,EAAiB,8DAAc,EAAqB,sEAAY;GA3SzF,eAAe,CA8V3B;AA9V2B","file":"main-es2015.js","sourcesContent":["export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n\\n<div class=\\\"flex-container\\\" fxLayout=\\\"row\\\">\\n    <div fxFlex></div>\\n    <button md-raised-button color=\\\"accent\\\" mdTooltip=\\\"add new entity\\\" aria-label=\\\"add new entity\\\" (click)=\\\"addNewEntity();\\\"\\n        class=\\\"button-spacing\\\">\\n        Add Entity\\n        </button>\\n</div>\\n<div style=\\\"margin: 10px 0 0 0;\\\">\\n    <form [formGroup]=\\\"form\\\" novalidate>\\n        <div *ngFor=\\\"let entity of entities\\\" id=\\\"{{entity.id}}\\\" style=\\\"margin: 10px 0; padding: 10px;\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\">\\n                    <h4 style=\\\"margin-left: 10px; font-size: 18pt; word-break: break-all;\\\" fxFlex>{{entity.name}}</h4>\\n                    <button mat-icon-button color=\\\"warn\\\" mdTooltip=\\\"delete entity\\\" aria-label=\\\"delete entity\\\" (click)=\\\"removeEntity(entity.id)\\\"\\n                        class=\\\"button-spacing\\\" style=\\\"margin-top: 10px;\\\">\\n                        <mat-icon>delete</mat-icon>\\n                        </button>\\n                </div>\\n                <div class=\\\"input-field\\\">\\n                    <input mdInput name=\\\"name\\\" class=\\\"full-width\\\" placeholder=\\\"Entity name\\\" formControlName=\\\"{{entity.id}}\\\">\\n                </div>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\";","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n\\n<form [formGroup]=\\\"form\\\" style=\\\"padding-top: 10px;\\\">\\n    <div class=\\\"form-group\\\">\\n        <div class=\\\"input-field\\\">\\n            <md-select id=\\\"source\\\" placeholder=\\\"Source\\\" formControlName=\\\"from\\\" [(ngModel)]=\\\"_edge.from\\\" class=\\\"full-width\\\">\\n                <md-option *ngFor=\\\"let node of nodeOptions\\\" [value]=\\\"node.id\\\">\\n                    {{ node.label }}\\n                </md-option>\\n            </md-select>\\n        </div>\\n        <div class=\\\"input-field\\\">\\n            <md-select id=\\\"destination\\\" placeholder=\\\"Destination\\\" formControlName=\\\"to\\\" [(ngModel)]=\\\"_edge.to\\\" class=\\\"full-width\\\">\\n                <md-option *ngFor=\\\"let node of nodeOptions\\\" [value]=\\\"node.id\\\">\\n                    {{ node.label }}\\n                </md-option>\\n            </md-select>\\n        </div>\\n        <div class=\\\"input-field\\\">\\n            <input mdInput placeholder=\\\"Edge name\\\" formControlName=\\\"label\\\" [(ngModel)]=\\\"_edge.label\\\">\\n        </div>\\n        <div class=\\\"input-field\\\">\\n            <md-select id=\\\"directed\\\" placeholder=\\\"Directed\\\" formControlName=\\\"arrows\\\" [(ngModel)]=\\\"_edge.arrows\\\" class=\\\"full-width\\\">\\n                <md-option value=\\\"to\\\">\\n                    True\\n                </md-option>\\n                <md-option value=\\\"none\\\">\\n                    False\\n                </md-option>\\n            </md-select>\\n        </div>\\n    </div>\\n</form>\\n\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { ConfigService } from '@ngx-config/core';\n\n@Injectable()\nexport class GafferService {\n\n  GAFFER_HOST: string = this.config.getSettings('system', 'gafferUrl');\n\n  constructor(private http: HttpClient, private config: ConfigService) { }\n\n  private extractData(res: HttpResponse<any>) {\n    const body = res.body;\n    return body || { };\n  }\n\n  private handleError (error: HttpErrorResponse | any) {\n    let errMsg: string;\n    if (error instanceof HttpErrorResponse) {\n      const body = error.error || '';\n      const err = body.error || JSON.stringify(body);\n      errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n    } else {\n      errMsg = error.message ? error.message : error.toString();\n    }\n    console.error(errMsg);\n    return Observable.throw(errMsg);\n  }\n\n  getCommonTypes(): Observable<any> {\n    const gafferUrl = this.GAFFER_HOST + '/schema-builder-rest/v1/commonSchema';\n    const headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    const options = { headers: headers };\n    return this.http.get(gafferUrl, options);\n  }\n\n  getSimpleFunctions(typeName: string, typeClass: string): Observable<any> {\n    const gafferUrl = this.GAFFER_HOST + '/schema-builder-rest/v1/functions';\n    const headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    const params = {\n      typeName: typeName,\n      typeClass: typeClass\n    };\n    const options = { headers: headers, params: params };\n    return this.http.post(gafferUrl, options);\n  }\n\n  validateSchema(elements: any, types: any): Observable<any> {\n    const gafferUrl = this.GAFFER_HOST + '/schema-builder-rest/v1/validate';\n    const headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    const params = [elements, types];\n    const options = { headers: headers, params: params};\n    return this.http.post(gafferUrl, options);\n  }\n\n  getSchemaFromURL(url) {\n    const headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n    const options = { headers: headers };\n    return this.http.get(url, options);\n  }\n}\n","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n  \\n  <div style=\\\"padding: 15px;\\\" class=\\\"flex-container alt-background\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center start\\\">\\n    <div fxFlex=\\\"10%\\\" fxShow=\\\"true\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\"></div>\\n    <div fxFlex>\\n        <h4 style=\\\"font-size: 16pt;\\\">Edges</h4>\\n        <mat-card *ngIf=\\\"!edges || edges.length === 0\\\">\\n            <mat-card-content>\\n                <div>\\n                    <md-list dense>\\n                        <md-list-item>\\n                            <h3 md-line><b>No edges</b></h3>\\n                        </md-list-item>\\n                    </md-list>\\n                </div>\\n            </mat-card-content>\\n        </mat-card>\\n        <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\">\\n            <div fxFlex=\\\"50%\\\" fxFlex.gt-md=\\\"33%\\\" fxFlex.xs=\\\"100%\\\" style=\\\"padding: 10px;\\\" *ngFor=\\\"let edge of edges\\\">\\n                <mat-card>\\n                    <div class=\\\"content-card-header\\\" fxLayout=\\\"row\\\">\\n                        <mat-card-title fxFlex style=\\\"word-break: break-all;\\\">{{edge.label}}</mat-card-title>\\n                        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"edge.editing = true;\\\" mdTooltip=\\\"edit edge properties\\\" aria-label=\\\"edit edge properties\\\" *ngIf=\\\"!edge.editing\\\" class=\\\"button-spacing\\\">\\n                            <mat-icon>edit</mat-icon>\\n                        </button>\\n                    </div>\\n                    <mat-card-content *ngIf=\\\"!edge.editing\\\">\\n                        <div *ngIf=\\\"!edge.properties || edge.properties.length === 0\\\">\\n                            <md-list dense>\\n                                <md-list-item>\\n                                    <h3 md-line><b>No properties</b></h3>\\n                                </md-list-item>\\n                            </md-list>\\n                        </div>\\n                        <div *ngIf=\\\"edge.properties && edge.properties.length > 0\\\">\\n                            <md-list dense>\\n                                <md-list-item *ngFor=\\\"let property of edge.properties\\\">\\n                                    <h3 md-line><b>{{property.name}}</b></h3>\\n                                    <p md-line>{{property.type}}</p>\\n                                </md-list-item>\\n                            </md-list>\\n                        </div>\\n                    </mat-card-content>\\n                    <mat-card-content *ngIf=\\\"edge.editing\\\" style=\\\"overflow: visible;\\\">\\n                        <app-property-form [propertyHolder]=\\\"edge\\\" (holderChange)=\\\"edgePropertiesChanged($event)\\\"></app-property-form>\\n                    </mat-card-content>\\n                </mat-card>\\n            </div>\\n        </div>\\n        <h4 style=\\\"font-size: 16pt;\\\">Entities</h4>\\n        <mat-card *ngIf=\\\"!nodes || nodes.length === 0\\\">\\n            <mat-card-content>\\n                <div>\\n                    <md-list dense>\\n                        <md-list-item>\\n                            <h3 md-line><b>No entities</b></h3>\\n                        </md-list-item>\\n                    </md-list>\\n                </div>\\n            </mat-card-content>\\n        </mat-card>\\n        <div *ngFor=\\\"let node of nodes\\\">\\n            <h3 style=\\\"font-size: 12pt;\\\" *ngIf=\\\"node.entities && node.entities.length > 0\\\"><b>{{node.label}}</b></h3>\\n            <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\">\\n                <div fxFlex=\\\"50%\\\" fxFlex.gt-md=\\\"33%\\\" fxFlex.xs=\\\"100%\\\" style=\\\"padding: 10px;\\\" *ngFor=\\\"let entity of node.entities\\\">\\n                    <mat-card>\\n                        <div class=\\\"content-card-header\\\" fxLayout=\\\"row\\\">\\n                            <mat-card-title fxFlex style=\\\"word-break: break-all;\\\">{{entity.name}}</mat-card-title>\\n                            <button mat-icon-button color=\\\"accent\\\" (click)=\\\"entity.editing = true;\\\" mdTooltip=\\\"edit entity properties\\\" aria-label=\\\"edit entity properties\\\" *ngIf=\\\"!entity.editing\\\" class=\\\"button-spacing\\\">\\n                                <mat-icon>edit</mat-icon>\\n                            </button>\\n                        </div>\\n                        <mat-card-content *ngIf=\\\"!entity.editing\\\">\\n                            <div *ngIf=\\\"!entity.properties || entity.properties.length === 0\\\">\\n                                <md-list dense>\\n                                    <md-list-item>\\n                                        <h3 md-line><b>No properties</b></h3>\\n                                    </md-list-item>\\n                                </md-list>\\n                            </div>\\n                            <div *ngIf=\\\"entity.properties && entity.properties.length > 0\\\">\\n                                <md-list dense>\\n                                    <md-list-item *ngFor=\\\"let property of entity.properties\\\">\\n                                        <h3 md-line><b>{{property.name}}</b></h3>\\n                                        <p md-line>{{property.type}}</p>\\n                                    </md-list-item>\\n                                </md-list>\\n                            </div>\\n                        </mat-card-content>\\n                        <mat-card-content *ngIf=\\\"entity.editing\\\" style=\\\"overflow: visible;\\\">\\n                            <app-property-form [propertyHolder]=\\\"entity\\\" (holderChange)=\\\"entityPropertiesChanged($event)\\\"></app-property-form>\\n                        </mat-card-content>\\n                    </mat-card>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div fxFlex=\\\"10%\\\" fxShow=\\\"true\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\"></div>\\n</div>\\n\";","export default \"mat-card-title {\\n  margin-bottom: 0 !important;\\n  color: white;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsMkJBQTJCO0VBQzNCLFlBQVk7QUFDZCIsImZpbGUiOiJhcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIm1hdC1jYXJkLXRpdGxlIHtcbiAgbWFyZ2luLWJvdHRvbTogMCAhaW1wb3J0YW50O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbiJdfQ== */\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// The file for the current environment will overwrite this one during build.\n// Different environments can be found in ./environment.{dev|prod}.ts, and\n// you can create your own and use it with the --env flag.\n// The build system defaults to the dev environment.\n\nexport const environment = {\n  production: false\n};\n","export default \"/*\\n * Copyright 2016 Crown Copyright\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *     http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\n.form-row {\\n    display: flex;\\n    flex-flow: row wrap;\\n}\\n\\n.input-field {\\n    margin-right: 30px;\\n}\\n\\n.form-button {\\n    margin: 20px;\\n    height: 35px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudGl0eS1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7O0VBY0U7O0FBRUY7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFlBQVk7QUFDaEIiLCJmaWxlIjoiZW50aXR5LWZvcm0uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxNiBDcm93biBDb3B5cmlnaHRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLmZvcm0tcm93IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZmxvdzogcm93IHdyYXA7XG59XG5cbi5pbnB1dC1maWVsZCB7XG4gICAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xufVxuXG4uZm9ybS1idXR0b24ge1xuICAgIG1hcmdpbjogMjBweDtcbiAgICBoZWlnaHQ6IDM1cHg7XG59Il19 */\";","export default \"/*\\n * Copyright 2016 Crown Copyright\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *     http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\ndiv.vis-network div.vis-manipulation {\\n  background: transparent !important;\\n  height: 35px !important;\\n  padding-top: 0 !important;\\n  border: 0 !important;\\n  margin: 10px 0;\\n  top: -55px !important;\\n}\\n\\ndiv.vis-network div.vis-edit-mode {\\n  padding-top: 0 !important;\\n  border: 0 !important;\\n  margin: 10px 0;\\n  top: -27px !important;\\n}\\n\\ndiv.vis-network div.vis-close {\\n  display: none !important;\\n}\\n\\n.vis-separator-line {\\n  background: transparent !important;\\n}\\n\\n.vis-button {\\n  border-radius: 3px !important;\\n  padding: 5px 15px !important;\\n  height: 25px !important;\\n  background-position: 8px 5px !important;\\n}\\n\\n.vis-network {\\n  margin-top: 70px;\\n  overflow: visible !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdyYXBoLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7O0VBY0U7O0FBRUY7RUFDRSxrQ0FBa0M7RUFDbEMsdUJBQXVCO0VBQ3ZCLHlCQUF5QjtFQUN6QixvQkFBb0I7RUFDcEIsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixvQkFBb0I7RUFDcEIsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFLGtDQUFrQztBQUNwQzs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3Qiw0QkFBNEI7RUFDNUIsdUJBQXVCO0VBQ3ZCLHVDQUF1QztBQUN6Qzs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQiw0QkFBNEI7QUFDOUIiLCJmaWxlIjoiZ3JhcGguY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxNiBDcm93biBDb3B5cmlnaHRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtbWFuaXB1bGF0aW9uIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAzNXB4ICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmctdG9wOiAwICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMCAhaW1wb3J0YW50O1xuICBtYXJnaW46IDEwcHggMDtcbiAgdG9wOiAtNTVweCAhaW1wb3J0YW50O1xufVxuXG5kaXYudmlzLW5ldHdvcmsgZGl2LnZpcy1lZGl0LW1vZGUge1xuICBwYWRkaW5nLXRvcDogMCAhaW1wb3J0YW50O1xuICBib3JkZXI6IDAgIWltcG9ydGFudDtcbiAgbWFyZ2luOiAxMHB4IDA7XG4gIHRvcDogLTI3cHggIWltcG9ydGFudDtcbn1cblxuZGl2LnZpcy1uZXR3b3JrIGRpdi52aXMtY2xvc2Uge1xuICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG59XG5cbi52aXMtc2VwYXJhdG9yLWxpbmUge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xufVxuXG4udmlzLWJ1dHRvbiB7XG4gIGJvcmRlci1yYWRpdXM6IDNweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiA1cHggMTVweCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDI1cHggIWltcG9ydGFudDtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogOHB4IDVweCAhaW1wb3J0YW50O1xufVxuXG4udmlzLW5ldHdvcmsge1xuICBtYXJnaW4tdG9wOiA3MHB4O1xuICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xufSJdfQ== */\";","export default \"/*\\n * Copyright 2016 Crown Copyright\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *     http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\n.form-row {\\n    display: flex;\\n    flex-flow: row wrap;\\n}\\n\\n.input-field {\\n    margin-right: 30px;\\n}\\n\\n.form-button {\\n    margin: 20px;\\n    height: 35px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGUtZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztFQWNFOztBQUVGO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0FBQ2hCIiwiZmlsZSI6InR5cGUtZm9ybS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAyMDE2IENyb3duIENvcHlyaWdodFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4uZm9ybS1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1mbG93OiByb3cgd3JhcDtcbn1cblxuLmlucHV0LWZpZWxkIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG59XG5cbi5mb3JtLWJ1dHRvbiB7XG4gICAgbWFyZ2luOiAyMHB4O1xuICAgIGhlaWdodDogMzVweDtcbn0iXX0= */\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Routes } from '@angular/router';\n\nimport { SchemaComponent } from './schema.component';\n\nexport const schemaRoutes: Routes = [\n  { path: 'schema', component: SchemaComponent }\n];\n","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit, Input } from '@angular/core';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { DataSet, Network } from 'vis';\nimport { GraphQLNode } from '../../shared/graphql-node.interface';\nimport { GraphQLEdge } from '../../shared/graphql-edge.interface';\nimport { GraphQLType } from '../../shared/graphql-type.interface';\nimport { FormBuilder } from '@angular/forms';\nimport * as _ from 'lodash';\n\n@Component({\n    selector: 'app-edge-form',\n    templateUrl: './edge-form.component.html',\n    styleUrls: ['./edge-form.component.css'],\n    providers: [FormBuilder]\n})\nexport class EdgeFormComponent implements OnInit {\n    _edge: GraphQLEdge;\n    _edges: DataSet<GraphQLEdge>;\n    _nodes: DataSet<GraphQLNode>;\n    _network: Network;\n    _storedTypes: Array<GraphQLType>;\n    nodeOptions: any;\n    form: any;\n\n    @Input()\n    set edges(edges: any) {\n        this._edges = edges;\n    }\n    get edges() { return this._edges; }\n\n    @Input()\n    set nodes(nodes: any) {\n        this._nodes = nodes;\n        this.nodeOptions = nodes.get();\n    }\n    get nodes() { return this._nodes; }\n\n    @Input()\n    set selectedEdge(selectedEdge: string) {\n        this._edge = this._edges.get(selectedEdge);\n        this.updateForm(this._edge);\n    }\n\n    @Input()\n    set network(network: any) {\n        this._network = network;\n    }\n\n    constructor(private storage: LocalStorageService, private formBuilder: FormBuilder) { }\n\n    ngOnInit() {\n        this._storedTypes = this.storage.retrieve('types');\n        this.form.valueChanges\n            .debounceTime(400)\n            .distinctUntilChanged()\n            .subscribe((data) => this.save(data));\n    }\n\n    updateForm(edge: any) {\n        this.form = this.formBuilder.group({\n            from: edge.from,\n            to: edge.to,\n            label: edge.label,\n            arrows: edge.arrows\n        });\n    }\n\n    changeEdge(value: any, key: any) {\n        this._edge[key] = value;\n    }\n\n    save(data) {\n        this._edge = _.merge(this._edge, data);\n        this._edges.update(this._edge);\n        this.storage.store('graphEdges', this._edges);\n    }\n}\n","export default \"/*\\n * Copyright 2016 Crown Copyright\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *     http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\n.type-edit-button {\\n    position: absolute;\\n    top: 20px;\\n    right: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVtYS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztFQWNFOztBQUVGO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0FBQ2YiLCJmaWxlIjoic2NoZW1hLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMTYgQ3Jvd24gQ29weXJpZ2h0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi50eXBlLWVkaXQtYnV0dG9uIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAyMHB4O1xuICAgIHJpZ2h0OiAyMHB4O1xufSJdfQ== */\";","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n\\n  <div style=\\\"padding: 15px;\\\" class=\\\"flex-container alt-background\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center start\\\">\\n    <div fxFlex=\\\"10%\\\" fxShow=\\\"true\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\"></div>\\n    <div fxFlex>\\n        <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\">\\n            <div fxFlex></div>\\n            <button md-raised-button color=\\\"accent\\\" (click)=\\\"addNewType();\\\" mdTooltip=\\\"add new type\\\" aria-label=\\\"add new type\\\" class=\\\"button-spacing\\\">\\n                Add type\\n            </button>\\n            <button md-raised-button color=\\\"warn\\\" (click)=\\\"resetTypes();\\\" mdTooltip=\\\"reset to default types\\\" aria-label=\\\"reset to default types\\\" class=\\\"button-spacing\\\">\\n                Reset\\n            </button>\\n        </div>\\n        <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\">\\n            <div fxFlex=\\\"100%\\\" fxFlex.gt-sm=\\\"50%\\\" style=\\\"padding: 10px;\\\" *ngFor=\\\"let type of types; let i = index\\\">\\n                <mat-card>\\n                    <div class=\\\"content-card-header\\\" fxLayout=\\\"row\\\">\\n                        <mat-card-title fxFlex style=\\\"word-break: break-all;\\\">{{type.type}}</mat-card-title>\\n                        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"type.editing = true;\\\" mdTooltip=\\\"edit type\\\" aria-label=\\\"edit type\\\" *ngIf=\\\"!type.editing\\\" class=\\\"button-spacing\\\">\\n                            <mat-icon>edit</mat-icon>\\n                        </button>\\n                        <button mat-icon-button color=\\\"warn\\\" (click)=\\\"removeType(i)\\\" mdTooltip=\\\"delete type\\\" aria-label=\\\"delete type\\\" class=\\\"button-spacing\\\">\\n                            <mat-icon>delete</mat-icon>\\n                        </button>\\n                    </div>\\n                    <mat-card-content>\\n                        <div *ngIf=\\\"!type.editing\\\">\\n                            <md-list dense>\\n                                <md-list-item>\\n                                    <h3 md-line><b>Class</b></h3>\\n                                    <p md-line>{{type.class}}</p>\\n                                </md-list-item>\\n                                <md-list-item>\\n                                    <h3 md-line><b>Serialiser</b></h3>\\n                                    <p md-line *ngIf=\\\"type.serialiser && type.serialiser.class\\\">{{type.serialiser.class}}</p>\\n                                    <p md-line *ngIf=\\\"!type.serialiser || !type.serialiser.class\\\">null</p>\\n                                </md-list-item>\\n                                <md-list-item>\\n                                    <h3 md-line><b>Aggregator</b></h3>\\n                                    <p md-line *ngIf=\\\"type.aggregateFunction && type.aggregateFunction.class\\\">{{type.aggregateFunction.class}}</p>\\n                                    <p md-line *ngIf=\\\"!type.aggregateFunction || !type.aggregateFunction.class\\\">null</p>\\n                                </md-list-item>\\n                                <md-list-item class=\\\"autoheight-list\\\">\\n                                    <h3 md-line><b>Validators</b></h3>\\n                                    <p md-line *ngFor=\\\"let validator of type.validateFunctions\\\">{{validator.class}}</p>\\n                                    <p md-line *ngIf=\\\"!type.validateFunctions || type.validateFunctions.length === 0\\\">null</p>\\n                                </md-list-item>\\n                            </md-list>\\n                        </div>\\n                        <app-type-form [type]=\\\"types[i]\\\" (typeChange)=\\\"typeChanged($event)\\\" *ngIf=\\\"type.editing\\\"></app-type-form>\\n                    </mat-card-content>\\n                </mat-card>\\n            </div>\\n            <div  fxFlex=\\\"100%\\\" fxFlex.gt-sm=\\\"50%\\\" style=\\\"padding: 10px;\\\" *ngFor=\\\"let type of nodeTypes; let i = index\\\">\\n                <mat-card>\\n                    <div class=\\\"content-card-header\\\" fxLayout=\\\"row\\\">\\n                        <mat-card-title fxFlex style=\\\"word-break: break-all;\\\">{{type.type}}</mat-card-title>\\n                        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"type.editing = true;\\\" mdTooltip=\\\"edit type\\\" aria-label=\\\"edit type\\\" *ngIf=\\\"!type.editing\\\" class=\\\"button-spacing\\\">\\n                            <mat-icon>edit</mat-icon>\\n                        </button>\\n                        <button mat-icon-button color=\\\"warn\\\" (click)=\\\"removeType(i)\\\" mdTooltip=\\\"delete type\\\" aria-label=\\\"delete type\\\" class=\\\"button-spacing\\\">\\n                            <mat-icon>delete</mat-icon>\\n                        </button>\\n                    </div>\\n                    <mat-card-content>\\n                        <div *ngIf=\\\"!type.editing\\\">\\n                            <md-list dense>\\n                                <md-list-item>\\n                                    <h3 md-line><b>Class</b></h3>\\n                                    <p md-line>{{type.class}}</p>\\n                                </md-list-item>\\n                                <md-list-item class=\\\"autoheight-list\\\">\\n                                    <h3 md-line><b>Validators</b></h3>\\n                                    <p md-line *ngFor=\\\"let validator of type.validateFunctions\\\">{{validator.class}}</p>\\n                                    <p md-line *ngIf=\\\"!type.validateFunctions || type.validateFunctions.length === 0\\\">null</p>\\n                                </md-list-item>\\n                            </md-list>\\n                        </div>\\n                        <app-type-form [type]=\\\"nodeTypes[i]\\\" (typeChange)=\\\"nodeTypeChanged($event)\\\" *ngIf=\\\"type.editing\\\"></app-type-form>\\n                    </mat-card-content>\\n                </mat-card>\\n            </div>\\n        </div>\\n    </div>\\n    <div fxFlex=\\\"10%\\\" fxShow=\\\"true\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\"></div>\\n</div>\\n\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ModuleWithProviders } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { graphRoutes } from './graph/graph.routes';\nimport { propertiesRoutes } from './properties/properties.routes';\nimport { schemaRoutes } from './schema/schema.routes';\nimport { typesRoutes } from './types/types.routes';\n\nexport const routes: Routes = [\n  {\n      path: '',\n      redirectTo: '/graph',\n      pathMatch: 'full'\n  },\n  ...graphRoutes,\n  ...propertiesRoutes,\n  ...schemaRoutes,\n  ...typesRoutes\n];\n\nexport const routing: ModuleWithProviders<RouterModule> = RouterModule.forRoot(routes);\n","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, Input, AfterViewInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport * as _ from 'lodash';\n\nexport interface RouteLink {\n    title: string,\n    route: string\n}\n\n@Component({\n    selector: 'app-root',\n    templateUrl: 'app.component.html',\n    styleUrls: ['app.component.css']\n})\nexport class AppComponent implements AfterViewInit {\n    activeLinkIndex: number;\n    pages: Array<RouteLink> = [\n        { title: 'Graph', route: 'graph' },\n        { title: 'Properties', route: 'properties' },\n        { title: 'Types', route: 'types' },\n        { title: 'Schema', route: 'schema' }\n    ];\n    rlaSafe = false;\n\n    public ngAfterViewInit() {\n        this.rlaSafe = true;\n    }\n\n    activateLink(index: number, linkIsActivated: boolean) {\n        this.activeLinkIndex = index;\n        console.log(linkIsActivated);\n    }\n\n    constructor(private router: Router, private route: ActivatedRoute) {\n    }\n}\n\n@Component({\n    selector: 'app-nav-link',\n    template: '{{_tabName}}'\n})\nexport class NavLinkComponent {\n    _tabName: string;\n    @Input()\n    set tabName(name: string) {\n        this._tabName = name;\n    }\n}\n","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { DataSet, Edge } from 'vis';\nimport { GraphQLType } from '../shared/graphql-type.interface';\nimport { GraphQLNode } from '../shared/graphql-node.interface';\nimport * as _ from 'lodash';\n\n@Component({\n    selector: 'app-properties',\n    templateUrl: './properties.component.html',\n    styleUrls: ['./properties.component.css']\n})\nexport class PropertiesComponent implements OnInit {\n    edges: Array<Edge>;\n    nodes: Array<GraphQLNode>;\n    types: Array<GraphQLType>;\n\n    constructor(private storage: LocalStorageService) { }\n\n    ngOnInit() {\n        this.types = this.storage.retrieve('types');\n        const storedEdges = this.storage.retrieve('graphEdges');\n        if (storedEdges !== null) {\n            this.edges = [];\n            _.forEach(storedEdges._data, (edge: any, key) => {\n                edge.id = key;\n                this.edges.push(edge);\n            });\n        }\n        const storedNodes = this.storage.retrieve('graphNodes');\n        if (storedNodes !== null) {\n            this.nodes = [];\n            _.forEach(storedNodes._data, (node: any, key) => {\n                node.id = key;\n                this.nodes.push(node);\n            });\n        }\n    }\n\n    edgePropertiesChanged(event) {\n        const storedEdges = this.storage.retrieve('graphEdges');\n        _.forEach(storedEdges._data, (edge: any) => {\n            if (edge.id === event.value.id) {\n                edge.properties = event.value.properties;\n                edge.editing = false;\n            }\n        });\n        this.storage.store('graphEdges', storedEdges);\n    }\n\n    entityPropertiesChanged(event) {\n        const storedNodes = this.storage.retrieve('graphNodes');\n        _.forEach(storedNodes._data, (node: any) => {\n            _.forEach(node.entities, (entity: any) => {\n                if (entity.id === event.value.id) {\n                    entity.properties = event.value.properties;\n                    entity.editing = false;\n                }\n            });\n        });\n        this.storage.store('graphNodes', storedNodes);\n    }\n\n}\n","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n\\n<div class=\\\"flex-container\\\" fxLayout=\\\"row\\\">\\n    <div fxFlex></div>\\n    <button md-raised-button color=\\\"accent\\\" (click)=\\\"addNewProperty();\\\" mdTooltip=\\\"add new property\\\" aria-label=\\\"add new property\\\"\\n        class=\\\"button-spacing\\\">\\n        Add Property\\n        </button>\\n</div>\\n    <div class=\\\"form-group\\\">\\n        <div style=\\\"margin-top: 20px;\\\">\\n            <div *ngIf=\\\"!_propertyHolder.properties || _propertyHolder.properties.length === 0\\\">\\n                <md-list dense>\\n                    <md-list-item>\\n                        <h3 md-line><b>No properties</b></h3>\\n                    </md-list-item>\\n                </md-list>\\n            </div>\\n            <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\" fxLayoutGap=\\\"10px\\\" *ngFor=\\\"let property of _propertyHolder.properties\\\">\\n                <div class=\\\"input-field\\\" fxFlex>\\n                    <input mdInput class=\\\"full-width\\\" placeholder=\\\"Property name\\\" [(ngModel)]=\\\"property.name\\\">\\n                </div>\\n                <div class=\\\"input-field\\\" fxFlex>\\n                    <md-select id=\\\"{{property.id}}Type\\\" placeholder=\\\"Property Type\\\" [(ngModel)]=\\\"property.type\\\">\\n                        <md-option *ngFor=\\\"let type of _storedTypes\\\" [value]=\\\"type.type\\\">\\n                            {{ type.type}}\\n                        </md-option>\\n                    </md-select>\\n                </div>\\n                <button mat-icon-button color=\\\"warn\\\" (click)=\\\"removeProperty(property.id)\\\" mdTooltip=\\\"delete property\\\" aria-label=\\\"delete property\\\" class=\\\"button-spacing\\\" style=\\\"margin-top: 15px;\\\">\\n                    <mat-icon>delete</mat-icon>\\n                </button>\\n            </div>\\n        </div>\\n        <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\">\\n            <div fxFlex></div>\\n            <button class=\\\"form-button button-spacing\\\" (click)=\\\"save()\\\" mdTooltip=\\\"update properties\\\" aria-label=\\\"update properties\\\" md-raised-button color=\\\"primary\\\">Update</button>\\n        </div>\\n    </div>\\n\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { GraphQLType } from '../shared/graphql-type.interface';\nimport { GafferService } from '../services/gaffer.service';\n\nimport * as _ from 'lodash';\n\n@Component({\n    selector: 'app-types',\n    templateUrl: './types.component.html',\n    styleUrls: ['./types.component.css'],\n    providers: [GafferService]\n})\nexport class TypesComponent implements OnInit {\n\n    types: Array<GraphQLType>;\n    nodeTypes: Array<any>;\n    errorMessage: any;\n\n    constructor(private storage: LocalStorageService, private gafferService: GafferService) { }\n\n    ngOnInit() {\n        const storedTypes = this.storage.retrieve('types');\n        if (storedTypes !== null) {\n            this.types = storedTypes;\n            this.getNodes();\n        } else {\n            this.resetTypes();\n        }\n    }\n\n    getNodes() {\n        const storedNodes = this.storage.retrieve('graphNodes');\n        if (storedNodes !== null) {\n            this.nodeTypes = [];\n            _.forEach(storedNodes._data, (node: any) => {\n                this.nodeTypes.push({\n                    type: node.label,\n                    class: node.class || 'java.lang.String',\n                    validateFunctions: node.validateFunctions || [],\n                    aggregateFunction: null,\n                    index: this.nodeTypes.length,\n                    node: true\n                });\n            });\n        }\n    }\n\n    resetTypes() {\n        this.gafferService.getCommonTypes()\n            .subscribe(\n            commonTypes => this.formatTypes(commonTypes.types),\n            error => this.errorMessage = <any>error);\n        this.getNodes();\n    }\n\n    removeType(index) {\n        this.types.splice(index, 1);\n        this.storage.store('types', this.types);\n    }\n\n    addNewType() {\n        this.types.push({\n            type: 'new type',\n            aggregateFunction: null,\n            serialiser: null,\n            class: '',\n            validateFunctions: null\n        });\n    }\n\n    formatTypes(commonTypes) {\n        this.types = [];\n        _.forEach(commonTypes, (type: any, key) => {\n            type.type = key;\n            type.index = this.types.length;\n            this.types.push(type);\n        });\n        this.storage.store('types', this.types);\n    }\n\n    typeChanged(event) {\n        const type = event.value;\n        this.types[type.index] = type;\n        this.types[type.index].editing = false;\n        this.storage.store('types', this.types);\n    }\n\n    nodeTypeChanged(event) {\n        const type = event.value;\n        const storedNodes = this.storage.retrieve('graphNodes');\n        if (storedNodes !== null) {\n            _.forEach(storedNodes._data, (node: any) => {\n                if (node.label === type.type) {\n                    node.class = type.class;\n                    node.validateFunctions = type.validateFunctions;\n                }\n            });\n        }\n        this.nodeTypes[type.index].editing = false;\n        this.storage.store('graphNodes', storedNodes);\n    }\n}\n","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n<mat-toolbar color=\\\"primary\\\">\\n    <img src=\\\"assets/gafferlogowhite.png\\\" width=\\\"30px\\\" style=\\\"margin-right: 15px;\\\" />\\n    <h1 style=\\\"font-size: 22pt; font-weight: 800;\\\">Gaffer Schema Builder</h1>\\n    <span class=\\\"app-toolbar-filler\\\"></span>\\n</mat-toolbar>\\n<nav mat-tab-nav-bar>\\n    <a mat-tab-link\\n        *ngFor=\\\"let child of pages\\\"\\n        [routerLink]=\\\"child.route\\\"\\n        routerLinkActive #rla=\\\"routerLinkActive\\\"\\n        [active]=\\\"rlaSafe && rla.isActive\\\"> {{ child.title }}\\n    </a>\\n</nav>\\n\\n<router-outlet class=\\\"alt-background\\\"></router-outlet>\\n\";","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n<div class=\\\"form-group\\\">\\n    <div style=\\\"margin-bottom: 0;\\\">\\n        <div class=\\\"input-field\\\" *ngIf=\\\"!_type.node\\\">\\n            <input mdInput class=\\\"form-control full-width\\\" type=\\\"text\\\" name=\\\"type\\\" placeholder=\\\"Type name\\\" [(ngModel)]=\\\"_type.type\\\" (ngModelChange)=\\\"changeType($event, 'type')\\\">\\n        </div>\\n        <div class=\\\"input-field\\\">\\n            <input mdInput class=\\\"form-control full-width\\\" type=\\\"text\\\" name=\\\"class\\\" placeholder=\\\"Java class\\\" [(ngModel)]=\\\"_type.class\\\" (ngModelChange)=\\\"changeType($event, 'class')\\\">\\n        </div>\\n        <div class=\\\"input-field\\\" *ngIf=\\\"functions && functions.valid && !_type.node\\\">\\n            <md-select class=\\\"full-width\\\" id=\\\"serialiserClass\\\" placeholder=\\\"Serialiser class\\\" (change)=\\\"changeType(_type.serialiser, 'serialiser', 'class')\\\"\\n                [(ngModel)]=\\\"_type.serialiser\\\">\\n                <md-option value=\\\"NULL\\\">null</md-option>\\n                <md-option *ngFor=\\\"let serialiser of functions.serialiserClasses\\\" [value]=\\\"serialiser\\\">\\n                    {{ serialiser }}\\n                </md-option>\\n            </md-select>\\n        </div>\\n        <div class=\\\"input-field\\\" *ngIf=\\\"functions && functions.valid && !_type.node\\\">\\n            <md-select class=\\\"full-width\\\" id=\\\"aggregateFunction\\\" placeholder=\\\"Aggregator class\\\" (change)=\\\"changeType(_type.aggregateFunction, 'aggregateFunction', 'class')\\\"\\n                [(ngModel)]=\\\"_type.aggregateFunction\\\">\\n                <md-option value=\\\"NULL\\\">null</md-option>\\n                <md-option *ngFor=\\\"let aggregator of functions.aggregateClasses\\\" [value]=\\\"aggregator\\\">\\n                    {{ aggregator }}\\n                </md-option>\\n                </md-select>\\n        </div>\\n        <div class=\\\"input-field\\\" *ngIf=\\\"functions && functions.valid && !_type.node\\\">\\n            <input mdInput class=\\\"form-control full-width\\\" type=\\\"text\\\" [disabled]=\\\"aggregateFieldsDisabled\\\" name=\\\"aggregateFields\\\" placeholder=\\\"Aggregator fields\\\"\\n                [(ngModel)]=\\\"aggregateFields\\\" (ngModelChange)=\\\"changeType($event, 'aggregateFields')\\\">\\n            <p style=\\\"color: red; margin-top: -10px;\\\" *ngIf=\\\"!aggregateFieldsValid\\\">Invalid JSON</p>\\n        </div>\\n        <div *ngIf=\\\"functions && functions.valid\\\">\\n            <label>Validation</label>\\n            <div *ngFor=\\\"let validator of functions.validateClasses\\\" style=\\\"padding: 10px 0;\\\">\\n                <md-checkbox [checked]=\\\"checkValidation(validator)\\\" (change)=\\\"changeValidations($event.checked, validator)\\\">\\n                    {{validator}}\\n                </md-checkbox>\\n                <div *ngIf=\\\"checkValidation(validator)\\\" style=\\\"margin-left: 30px;\\\">\\n                        <input mdInput class=\\\"form-control full-width\\\" type=\\\"text\\\" name=\\\"validatorField_{{validator}}\\\" placeholder=\\\"Validator fields\\\" [(ngModel)]=\\\"validationFields[validator]\\\"\\n                            (change)=\\\"changeType($event, 'validationFields', validator)\\\">\\n                    <p style=\\\"color: red; margin-top: -10px;\\\" *ngIf=\\\"!validateFieldsValid\\\">Invalid JSON</p>\\n                </div>\\n            </div>\\n        </div>\\n        <div *ngIf=\\\"functions !== undefined\\\">\\n            <p style=\\\"color: red\\\" *ngIf=\\\"functions && !functions.valid\\\">{{functions.message}}</p>\\n        </div>\\n        <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\">\\n            <div fxFlex></div>\\n            <button class=\\\"form-button\\\" (click)=\\\"save()\\\" mdTooltip=\\\"update type\\\" aria-label=\\\"update type\\\" md-raised-button color=\\\"primary\\\"\\n                [disabled]=\\\"functions && !functions.valid || !aggregateFieldsValid || !validateFieldsValid\\\">Update</button>\\n        </div>\\n    </div>\\n</div>\\n\";","export default \"/*\\n * Copyright 2016 Crown Copyright\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *     http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\n.form-row {\\n    display: flex;\\n    flex-flow: row wrap;\\n}\\n\\n.type-tile {\\n    overflow: auto;\\n}\\n\\n.type-edit-button {\\n    position: absolute;\\n    top: 20px;\\n    right: 20px;\\n}\\n\\n.type-title-buttons {\\n    position: absolute;\\n    top: 25px;\\n    right: 25px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR5cGVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7O0VBY0U7O0FBRUY7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksY0FBYztBQUNsQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsV0FBVztBQUNmOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0FBQ2YiLCJmaWxlIjoidHlwZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxNiBDcm93biBDb3B5cmlnaHRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLmZvcm0tcm93IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZmxvdzogcm93IHdyYXA7XG59XG5cbi50eXBlLXRpbGUge1xuICAgIG92ZXJmbG93OiBhdXRvO1xufVxuXG4udHlwZS1lZGl0LWJ1dHRvbiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMjBweDtcbiAgICByaWdodDogMjBweDtcbn1cblxuLnR5cGUtdGl0bGUtYnV0dG9ucyB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMjVweDtcbiAgICByaWdodDogMjVweDtcbn0iXX0= */\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Routes } from '@angular/router';\n\nimport { GraphComponent } from './graph.component';\n\nexport const graphRoutes: Routes = [\n  { path: 'graph', component: GraphComponent }\n];\n","export default \"/*\\n * Copyright 2016 Crown Copyright\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *     http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\n.form-row {\\n    display: flex;\\n    flex-flow: row wrap;\\n}\\n\\n.input-field {\\n    margin-right: 30px;\\n}\\n\\n.form-button {\\n    margin: 20px;\\n    height: 35px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkZ2UtZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztFQWNFOztBQUVGO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0FBQ2hCIiwiZmlsZSI6ImVkZ2UtZm9ybS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAyMDE2IENyb3duIENvcHlyaWdodFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4uZm9ybS1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1mbG93OiByb3cgd3JhcDtcbn1cblxuLmlucHV0LWZpZWxkIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG59XG5cbi5mb3JtLWJ1dHRvbiB7XG4gICAgbWFyZ2luOiAyMHB4O1xuICAgIGhlaWdodDogMzVweDtcbn0iXX0= */\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule } from '@angular/forms';\nimport { MatCardModule } from '@angular/material/card'\nimport { MatToolbarModule } from '@angular/material/toolbar'\nimport { MatTabsModule } from '@angular/material/tabs'\nimport { MatInputModule } from '@angular/material/input'\nimport { MatIconModule } from '@angular/material/icon'\nimport { HttpClientModule } from '@angular/common/http';\nimport { RouterModule } from '@angular/router';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout'\nimport { GraphComponent } from './graph/graph.component';\nimport { EdgeFormComponent } from './graph/edge-form/edge-form.component';\nimport { NodeFormComponent } from './graph/node-form/node-form.component';\nimport { NgxWebstorageModule } from 'ngx-webstorage';\nimport { SchemaComponent } from './schema/schema.component';\nimport { TypesComponent } from './types/types.component';\nimport { PrettyJsonModule } from 'angular2-prettyjson';\nimport { AppComponent } from './app.component';\nimport { TypeFormComponent } from './types/type-form/type-form.component';\nimport { NavLinkComponent } from './app.component';\nimport { EntityFormComponent } from './graph/entity-form/entity-form.component';\nimport { PropertiesComponent } from './properties/properties.component';\nimport { PropertyFormComponent } from './properties/property-form/property-form.component';\nimport { routing } from './app.routes';\nimport { configFactory, ConfigLoader, ConfigModule } from '@ngx-config/core';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    GraphComponent,\n    EdgeFormComponent,\n    NodeFormComponent,\n    SchemaComponent,\n    TypesComponent,\n    TypeFormComponent,\n    EntityFormComponent,\n    PropertiesComponent,\n    PropertyFormComponent,\n    NavLinkComponent\n  ],\n  imports: [\n    MatCardModule,\n    MatInputModule,\n    MatIconModule,\n    MatTabsModule,\n    MatToolbarModule,\n    HttpClientModule,\n    BrowserModule,\n    PrettyJsonModule,\n    FormsModule,\n    FlexLayoutModule,\n    ReactiveFormsModule,\n    NgxWebstorageModule.forRoot(),\n    BrowserAnimationsModule,\n    RouterModule,\n    routing,\n    ConfigModule.forRoot({\n      provide: ConfigLoader,\n      useFactory: (configFactory)\n    })\n  ],\n  entryComponents: [\n    AppComponent\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n  // constructor(private _appRef: ApplicationRef) { }\n\n  // ngDoBootstrap() {\n  //   this._appRef.bootstrap(AppComponent);\n  // }\n}\n","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit, Input, Output, EventEmitter  } from '@angular/core';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { GafferService } from '../../services/gaffer.service';\nimport { UUID } from 'angular2-uuid';\nimport * as _ from 'lodash';\n\n@Component({\n    selector: 'app-property-form',\n    templateUrl: './property-form.component.html',\n    styleUrls: ['./property-form.component.css'],\n    providers: [GafferService]\n})\nexport class PropertyFormComponent implements OnInit {\n    _propertyHolder: any;\n    _storedTypes: any;\n    nodeOptions: any;\n    errorMessage: any;\n\n    @Input()\n    set propertyHolder(propertyHolder: any) {\n        this._propertyHolder = propertyHolder;\n    }\n    get propertyHolder() {\n        return this._propertyHolder;\n    }\n\n    @Output() holderChange = new EventEmitter();\n\n    constructor(private storage: LocalStorageService, private gafferService: GafferService) { }\n\n    ngOnInit() {\n        const storedTypes = this.storage.retrieve('types');\n        if (storedTypes !== null) {\n            this._storedTypes = storedTypes;\n        } else {\n            this.resetTypes();\n        }\n    }\n\n    resetTypes() {\n        this.gafferService.getCommonTypes()\n            .subscribe(\n            commonTypes => this.formatTypes(commonTypes.types),\n            error => this.errorMessage = <any>error);\n    }\n\n    formatTypes(commonTypes) {\n        this._storedTypes = [];\n        _.forEach(commonTypes, (type: any, key) => {\n            type.type = key;\n            type.index = this._storedTypes.length;\n            this._storedTypes.push(type);\n        });\n        this.storage.store('types', this._storedTypes);\n    }\n\n    addNewProperty() {\n        const uuid = UUID.UUID();\n        if (!this._propertyHolder.properties) {\n            this._propertyHolder.properties = [];\n        }\n        this._propertyHolder.properties.push({\n            id: uuid,\n            name: 'New Property',\n            type: this._storedTypes[0].type || 'string'\n        });\n    }\n\n    removeProperty(propertyId) {\n        this._propertyHolder.properties = _.filter(this._propertyHolder.properties, (property: any) => {\n            return property.id !== propertyId;\n        });\n    }\n\n    save() {\n        this.holderChange.emit({\n            value: this.propertyHolder\n        });\n    }\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit, Input } from '@angular/core';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { FormBuilder } from '@angular/forms';\nimport { DataSet, Network } from 'vis';\nimport { GraphQLNode } from '../../shared/graphql-node.interface';\nimport { GraphQLEntity } from '../../shared/graphql-entity.interface';\nimport { GraphQLType } from '../../shared/graphql-type.interface';\nimport { UUID } from 'angular2-uuid';\nimport * as _ from 'lodash';\n\ndeclare const $: any;\n\n@Component({\n    selector: 'app-entity-form',\n    templateUrl: './entity-form.component.html',\n    styleUrls: ['./entity-form.component.css'],\n    providers: [FormBuilder]\n})\nexport class EntityFormComponent implements OnInit {\n    _node: GraphQLNode;\n    _nodes: DataSet<GraphQLNode>;\n    _storedTypes: Array<GraphQLType>;\n    entities: Array<GraphQLEntity>;\n    form: any;\n\n    @Input()\n    set nodes(nodes: any) {\n        this._nodes = nodes;\n    }\n    get nodes() { return this._nodes; }\n\n    @Input()\n    set selectedNode(selectedNode: string) {\n        this._node = this._nodes.get(selectedNode);\n        this.entities = this._node.entities || [];\n        this.updateForm(this.entities);\n    }\n\n    constructor(private storage: LocalStorageService, private formBuilder: FormBuilder) { }\n\n    ngOnInit() {\n        this._storedTypes = this.storage.retrieve('types');\n    }\n\n    updateForm(entities: any) {\n        const formObject = {};\n        _.forEach(entities, (entity: any) => {\n            formObject[entity.id] = entity.name;\n        });\n        this.form = this.formBuilder.group(formObject);\n        this.form.valueChanges\n            .debounceTime(400)\n            .distinctUntilChanged()\n            .subscribe((data) => this.save(data));\n    }\n\n    addNewEntity() {\n        const uuid = UUID.UUID();\n        this.entities.push({\n            id: uuid,\n            name: 'New Entity',\n            properties: []\n        });\n        this.updateForm(this.entities);\n        this.save(this.form._value);\n    }\n\n    removeEntity(entityId) {\n        this.entities = _.filter(this.entities, (entity: any) => {\n            return entity.id !== entityId;\n        });\n        this.updateForm(this.entities);\n        this.save(this.form._value);\n    }\n\n    save(data) {\n        _.forEach(this.entities, (entity: any) => {\n            entity.name = data[entity.id];\n        });\n        this._node.entities = this.entities;\n        this._nodes.update(this._node);\n        this.storage.store('graphNodes', this._nodes);\n    }\n}\n","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n\\n<div style=\\\"padding: 15px;\\\" class=\\\"flex-container\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"center start\\\">\\n    <div fxFlex=\\\"10%\\\" fxShow=\\\"true\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\"></div>\\n    <div fxFlex>\\n        <div fxLayout=\\\"row\\\">\\n            <div fxFlex style=\\\"margin-top: 15px;\\\">\\n                <h5 style=\\\"color:green;\\\" *ngIf=\\\"validation && validation.valid\\\">\\n                    <mat-icon>check</mat-icon>\\n                    {{validation.message}}\\n                </h5>\\n                <h5 style=\\\"color:red;\\\" *ngIf=\\\"validation && !validation.valid\\\">\\n                    <mat-icon>close</mat-icon>\\n                    <span *ngIf=\\\"validation && validation.errors\\\">{{validation.errors}}</span>\\n                    <span *ngIf=\\\"!validation || validation.errors\\\">Unknown validation error</span>\\n                </h5>\\n                <h5 style=\\\"color:red;\\\" *ngIf=\\\"errorMessage\\\">\\n                    <mat-icon>close</mat-icon>\\n                    <span>{{errorMessage}}</span>\\n                </h5>\\n            </div>\\n            <div fxFlex>\\n                <div fxFlex fxLayout=\\\"row\\\">\\n                    <div fxFlex class=\\\"input-field\\\">\\n                        <input mdInput class=\\\"form-control full-width\\\" type=\\\"text\\\" name=\\\"class\\\" placeholder=\\\"Gaffer schema URL: <url>/rest/v1/graph/schema\\\" mdTooltip=\\\"Gaffer schema URL: <url>/rest/v1/graph/schema\\\" [(ngModel)]=\\\"schemaUrl\\\"\\n                            (ngModelChange)=\\\"schemaUrlChanged()\\\">\\n                    </div>\\n                    <button md-raised-button color=\\\"accent\\\" style=\\\"height: 40px; margin-top: 16px;\\\" (click)=\\\"loadFromUrl()\\\" mdTooltip=\\\"load schema from URL\\\"\\n                        aria-label=\\\"load schema from URL\\\" class=\\\"button-spacing\\\">\\n                        Load from URL\\n                        </button>\\n                        <button md-raised-button color=\\\"warn\\\" style=\\\"height: 40px; margin-top: 16px;\\\" (click)=\\\"clearSchema()\\\" mdTooltip=\\\"load schema from URL\\\"\\n                            aria-label=\\\"load schema from URL\\\" class=\\\"button-spacing\\\">\\n                            Clear schema\\n                            </button>\\n                </div>\\n                <p style=\\\"color:red; margin-top: 0;\\\" *ngIf=\\\"errorMessageURL\\\">{{errorMessageURL}}</p>\\n                <p style=\\\"color:green; margin-top: 0;\\\" *ngIf=\\\"successURL\\\">{{successURL}}</p>\\n            </div>\\n        </div>\\n        <mat-card style=\\\"margin-bottom: 20px;\\\">\\n            <div class=\\\"content-card-header\\\">\\n                <mat-card-title>Elements</mat-card-title>\\n                <div class=\\\"type-edit-button row\\\">\\n                    <button mat-icon-button color=\\\"accent\\\" (click)=\\\"enableEditMode('elements')\\\" mdTooltip=\\\"edit elements\\\" aria-label=\\\"edit elements\\\"\\n                        *ngIf=\\\"!editing.elements\\\" class=\\\"button-spacing\\\">\\n                        <mat-icon>edit</mat-icon>\\n                        </button>\\n                        <a class=\\\"download-button\\\" [href]=\\\"sanitize(elementsDownload)\\\" download=\\\"elements.json\\\" mdTooltip=\\\"save to file\\\" aria-label=\\\"save to file\\\" *ngIf=\\\"!editing.elements\\\"><i class=\\\"material-icons left\\\">file_download</i></a>\\n                </div>\\n            </div>\\n            <mat-card-content>\\n                <pre [hidden]=\\\"editing.elements\\\" [innerHtml]=\\\"elements | prettyjson:4\\\"></pre>\\n                <p style=\\\"color: red\\\" *ngIf=\\\"errors.elements\\\">{{errors.elements}}</p>\\n                    <textarea mdInput class=\\\"full-width\\\" id=\\\"elementsTextArea\\\" value=\\\"{{elements | json:4}}\\\" [hidden]=\\\"!editing.elements\\\"></textarea>\\n                <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\" *ngIf=\\\"editing.elements\\\">\\n                    <div fxFlex></div>\\n                    <button class=\\\"form-button button-spacing\\\" (click)=\\\"updateElements(undefined)\\\" mdTooltip=\\\"update elements\\\" aria-label=\\\"update elements\\\"\\n                        md-raised-button color=\\\"primary\\\">Update</button>\\n                </div>\\n            </mat-card-content>\\n        </mat-card>\\n\\n        <mat-card style=\\\"margin-bottom: 20px;\\\">\\n            <div class=\\\"content-card-header\\\">\\n                <mat-card-title>Types</mat-card-title>\\n                <div class=\\\"type-edit-button row\\\">\\n                    <button mat-icon-button color=\\\"accent\\\" (click)=\\\"enableEditMode('types')\\\" mdTooltip=\\\"edit types\\\" aria-label=\\\"edit types\\\"\\n                        *ngIf=\\\"!editing.types\\\" class=\\\"button-spacing\\\">\\n                        <mat-icon>edit</mat-icon>\\n                        </button>\\n                        <a class=\\\"download-button\\\" [href]=\\\"sanitize(typesDownload)\\\" download=\\\"types.json\\\" mdTooltip=\\\"save to file\\\" aria-label=\\\"save to file\\\" *ngIf=\\\"!editing.types\\\"><i class=\\\"material-icons left\\\">file_download</i></a>\\n                </div>\\n            </div>\\n            <mat-card-content>\\n                <pre [hidden]=\\\"editing.types\\\" [innerHtml]=\\\"types | prettyjson:4\\\"></pre>\\n                <p style=\\\"color: red\\\" *ngIf=\\\"errors.types\\\">{{errors.types}}</p>\\n                    <textarea mdInput class=\\\"full-width\\\" id=\\\"typesTextArea\\\" value=\\\"{{types | json:4}}\\\" [hidden]=\\\"!editing.types\\\"></textarea>\\n                <div class=\\\"flex-container\\\" fxLayout=\\\"row\\\" *ngIf=\\\"editing.types\\\">\\n                    <div fxFlex></div>\\n                    <button class=\\\"form-button button-spacing\\\" (click)=\\\"updateTypes(undefined)\\\" mdTooltip=\\\"update types\\\" aria-label=\\\"update types\\\"\\n                        md-raised-button color=\\\"primary\\\">Update</button>\\n                </div>\\n            </mat-card-content>\\n        </mat-card>\\n    </div>\\n    <div fxFlex=\\\"10%\\\" fxShow=\\\"true\\\" fxShow.sm=\\\"false\\\" fxShow.xs=\\\"false\\\"></div>\\n</div>\\n\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { GraphQLType } from '../../shared/graphql-type.interface';\nimport { GafferService } from '../../services/gaffer.service';\nimport * as _ from 'lodash';\n\n@Component({\n    selector: 'app-type-form',\n    templateUrl: './type-form.component.html',\n    styleUrls: ['./type-form.component.css'],\n    providers: [GafferService]\n})\nexport class TypeFormComponent implements OnInit {\n    _type: GraphQLType;\n    aggregateFields: any;\n    aggregateFieldsValid: any;\n    aggregateFieldsDisabled: any;\n    validationFields: any;\n    validateFieldsValid: any;\n    functions: any;\n    errorMessage: string;\n\n    @Input()\n    set type(type: any) {\n        this._type = type;\n        if (!this._type.node && this._type.aggregateFunction !== null &&\n        this._type.aggregateFunction !== undefined && this._type.aggregateFunction !== null &&\n        this._type.aggregateFunction.class !== 'NULL'\n        && this._type.aggregateFunction !== {} ) {\n            this.aggregateFields = _.cloneDeep(this._type.aggregateFunction);\n            this.aggregateFields.class = undefined;\n            this.aggregateFieldsDisabled = false;\n            try {\n                this.aggregateFields = JSON.stringify(this.aggregateFields);\n                this.aggregateFieldsValid = true;\n            } catch (e) {\n                this.aggregateFieldsValid = false;\n            }\n        } else {\n            this.aggregateFields = '';\n            this.aggregateFieldsValid = true;\n            this.aggregateFieldsDisabled = true;\n        }\n        this.validationFields = {};\n        this.validateFieldsValid = true;\n        if (this._type.validateFunctions && this._type.validateFunctions.length > 0) {\n            const tempValidationFields = _.cloneDeep(this._type.validateFunctions);\n            _.forEach(tempValidationFields, (field: any) => {\n                const vFields = _.cloneDeep(field);\n                vFields.class = undefined;\n                this.validationFields[field.class] = JSON.stringify(vFields);\n            });\n        }\n        this.getGafferFunctions(type.type, type.class);\n    }\n    get type() {\n        return this._type;\n    }\n\n    @Output() typeChange = new EventEmitter();\n\n    constructor(private storage: LocalStorageService, private gafferService: GafferService) { }\n\n    ngOnInit() {\n\n    }\n\n    getGafferFunctions(type: string, javaClass: string) {\n        if (type !== undefined && javaClass !== undefined) {\n            this.gafferService.getSimpleFunctions(type, javaClass)\n                .subscribe(\n                functions => this.functions = functions,\n                error => this.errorMessage = <any>error);\n        } else {\n            this.functions = undefined;\n        }\n        if(!this._type.aggregateFunction) {\n            this._type.aggregateFunction = {};\n        }\n    }\n\n    changeValidations(checked: boolean, validator: any) {\n        if (checked) {\n            if (!this._type.validateFunctions) {\n                this._type.validateFunctions = [];\n            }\n            this._type.validateFunctions.push({\n                class: validator\n            });\n            if (this.validationFields[validator] === undefined || this.validationFields[validator].length === 0) {\n                this.validationFields[validator] = '{}';\n            } else {\n                this.changeType(this.validationFields[validator], 'validationFields', _.cloneDeep(validator));\n            }\n        } else {\n            for (let i = 0; i < this._type.validateFunctions.length; i++) {\n                if (this._type.validateFunctions[i].class === validator) {\n                    this._type.validateFunctions.splice(i, 1);\n                }\n            }\n        }\n    }\n\n    changeType(value: any, key: string, secondaryKey?: string) {\n        if (key === 'aggregateFields') {\n            if(this.aggregateFields && this._type.aggregateFunction !== null) {\n                try {\n                    const fieldsObject = JSON.parse(this.aggregateFields);\n                    fieldsObject.class = this._type.aggregateFunction.class;\n                    this._type.aggregateFunction = fieldsObject;\n                    this.aggregateFieldsValid = true;\n                } catch (e) {\n                    if (this._type.aggregateFunction !== null && this._type.aggregateFunction.class !== 'NULL') {\n                        this.aggregateFieldsValid = false;\n                    } else {\n                        this.aggregateFieldsValid = true;\n                    }\n                }\n            } else {\n                this.aggregateFieldsValid = true;\n            }\n        } else if (key === 'validationFields') {\n            try {\n                const fieldsObject = JSON.parse(this.validationFields[secondaryKey]);\n                fieldsObject.class = secondaryKey;\n                for (let i = 0; i < this._type.validateFunctions.length; i++) {\n                    if (this._type.validateFunctions[i].class === secondaryKey) {\n                        this._type.validateFunctions[i] = fieldsObject;\n                    }\n                }\n                this.validateFieldsValid = true;\n            } catch (e) {\n                if (this._type.validateFunctions && this._type.validateFunctions.length > 0) {\n                    this.validateFieldsValid = false;\n                } else {\n                    this.validateFieldsValid = true;\n                }\n            }\n        } else {\n            if (!secondaryKey) {\n                this._type[key] = value;\n            } else {\n                this._type[key] = {};\n                this._type[key][secondaryKey] = value;\n            }\n            if (key === 'type' || key === 'class') {\n                this.getGafferFunctions(this._type.type, this._type.class);\n            }\n            if (key === 'aggregateFunction' && value !== 'NULL') {\n                this.changeType(this.aggregateFields, 'aggregateFields', undefined);\n            }\n        }\n        if (this._type.aggregateFunction !== null && this._type.aggregateFunction.class !== 'NULL') {\n            this.aggregateFieldsDisabled = false;\n        } else {\n            this.aggregateFieldsDisabled = true;\n        }\n    }\n\n    checkValidation(validator) {\n        let result = false;\n        if (this._type.validateFunctions) {\n            this._type.validateFunctions.forEach(function (v) {\n                if (v.class === validator) {\n                    result = true;\n                }\n            });\n        }\n        return result;\n    }\n\n    save() {\n        this.typeChange.emit({\n            value: this._type\n        });\n    }\n}\n","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { DataSet, Network, Node, Edge, Options } from 'vis';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { forEach } from 'lodash'\n\nexport interface DataContainer {\n    nodes: DataSet<Node>,\n    edges: DataSet<Edge>\n}\n\n@Component({\n    selector: 'app-graph',\n    templateUrl: './graph.component.html',\n    styleUrls: ['./graph.component.css']\n})\nexport class GraphComponent implements OnInit {\n    nodes: DataSet<Node>;\n    edges: DataSet<Edge>;\n    network: Network;\n    container: any;\n    data: DataContainer;\n    options: Options;\n    selectedNode: Observable<string>;\n    selectedEdge: Observable<string>;\n\n    constructor(private storage: LocalStorageService) { }\n\n    selectNode(params) {\n        this.selectedNode = params.nodes[0];\n    }\n\n    deselectNode() {\n        this.selectedNode = undefined;\n    }\n\n    selectEdge(params) {\n        this.selectedEdge = params.edges[0];\n    }\n\n    deselectEdge() {\n        this.selectedEdge = undefined;\n    }\n\n    saveNodes(data, callback) {\n        if (data.label === 'new') {\n            data.label = 'node ' + (this.nodes.get().length + 1);\n        }\n        callback(data);\n        this.storage.store('graphEdges', this.edges);\n        this.storage.store('graphNodes', this.nodes);\n    }\n\n    saveEdges(data, callback) {\n        if (data.to !== undefined) {\n            data.length = 200;\n            data.arrows = 'to';\n            if (data.label === undefined) {\n                data.label = 'edge ' + (this.edges.get().length + 1);\n            }\n        }\n        callback(data);\n        this.storage.store('graphEdges', this.edges);\n        this.storage.store('graphNodes', this.nodes);\n    }\n\n    ngOnInit() {\n        const storedNodes = this.storage.retrieve('graphNodes');\n        if (storedNodes !== null) {\n            const nodeArray = [];\n            forEach(storedNodes._data, (storedNode: any) => {\n                nodeArray.push(storedNode);\n            });\n            this.nodes = new DataSet(nodeArray);\n        } else {\n            this.nodes = new DataSet();\n        }\n        \n        const storedEdges = this.storage.retrieve('graphEdges');\n        if (storedEdges !== null) {\n            const edgeArray = [];\n            forEach(storedEdges._data, (storedEdge: any) => {\n                edgeArray.push(storedEdge);\n            });\n            this.edges = new DataSet(edgeArray);\n        } else {\n            this.edges = new DataSet();\n        }\n\n        this.container = document.getElementById('schema-graph');\n        this.data = {\n            nodes: this.nodes,\n            edges: this.edges\n        };\n        this.options = {\n            nodes: {\n                shape: 'dot',\n                size: 18,\n                font: {\n                    size: 16\n                },\n                borderWidth: 2,\n                shadow: true\n            },\n            edges: {\n                width: 2,\n                shadow: true\n            },\n            autoResize: true,\n            height: '600px',\n            manipulation: {\n                enabled: true,\n                initiallyActive: true,\n                addNode: (data, callback) => this.saveNodes(data, callback),\n                addEdge: (data, callback) => this.saveEdges(data, callback),\n                editEdge: (data, callback) => this.saveEdges(data, callback),\n                deleteNode: (data, callback) => this.saveNodes(data, callback),\n                deleteEdge: (data, callback) => this.saveEdges(data, callback),\n                controlNodeStyle: {}\n            }\n        };\n\n        this.network = new Network(this.container, this.data, this.options);\n        this.network.on('selectNode', params => this.selectNode(params));\n        this.network.on('selectEdge', params => this.selectEdge(params));\n        this.network.on('deselectNode', params => this.deselectNode());\n        this.network.on('deselectEdge', params => this.deselectEdge());\n    }\n\n}\n","export default \"/*\\n * Copyright 2016 Crown Copyright\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *     http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\n.form-row {\\n    display: flex;\\n    flex-flow: row wrap;\\n}\\n\\n.properties-tile {\\n    overflow: auto;\\n}\\n\\n.properties-edit-button {\\n    position: absolute;\\n    top: 20px;\\n    right: 20px;\\n}\\n\\n.properties-title-buttons {\\n    position: absolute;\\n    top: 25px;\\n    right: 25px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3BlcnRpZXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7RUFjRTs7QUFFRjtJQUNJLGFBQWE7SUFDYixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFdBQVc7QUFDZiIsImZpbGUiOiJwcm9wZXJ0aWVzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IDIwMTYgQ3Jvd24gQ29weXJpZ2h0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi5mb3JtLXJvdyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWZsb3c6IHJvdyB3cmFwO1xufVxuXG4ucHJvcGVydGllcy10aWxlIHtcbiAgICBvdmVyZmxvdzogYXV0bztcbn1cblxuLnByb3BlcnRpZXMtZWRpdC1idXR0b24ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDIwcHg7XG4gICAgcmlnaHQ6IDIwcHg7XG59XG5cbi5wcm9wZXJ0aWVzLXRpdGxlLWJ1dHRvbnMge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDI1cHg7XG4gICAgcmlnaHQ6IDI1cHg7XG59Il19 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9wZXJ0eS1mb3JtLmNvbXBvbmVudC5jc3MifQ== */\";","export default \"/*\\n * Copyright 2016 Crown Copyright\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n *     http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing, software\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n * See the License for the specific language governing permissions and\\n * limitations under the License.\\n */\\n\\n.form-row {\\n    display: flex;\\n    flex-flow: row wrap;\\n}\\n\\n.input-field {\\n    margin-right: 30px;\\n}\\n\\n.form-button {\\n    margin: 20px;\\n    height: 35px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGUtZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztFQWNFOztBQUVGO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0FBQ2hCIiwiZmlsZSI6Im5vZGUtZm9ybS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAyMDE2IENyb3duIENvcHlyaWdodFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4uZm9ybS1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1mbG93OiByb3cgd3JhcDtcbn1cblxuLmlucHV0LWZpZWxkIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG59XG5cbi5mb3JtLWJ1dHRvbiB7XG4gICAgbWFyZ2luOiAyMHB4O1xuICAgIGhlaWdodDogMzVweDtcbn0iXX0= */\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Routes } from '@angular/router';\n\nimport { TypesComponent } from './types.component';\n\nexport const typesRoutes: Routes = [\n  { path: 'types', component: TypesComponent }\n//   { path: 'explore/:id', component: ExploreComponent }\n];\n","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit, Input } from '@angular/core';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { DataSet, Network } from 'vis';\nimport { GraphQLNode } from '../../shared/graphql-node.interface';\nimport { FormBuilder } from '@angular/forms';\nimport * as _ from 'lodash';\ndeclare const $: any;\n\n@Component({\n    selector: 'app-node-form',\n    templateUrl: './node-form.component.html',\n    styleUrls: ['./node-form.component.css'],\n    providers: [FormBuilder]\n})\nexport class NodeFormComponent implements OnInit {\n    _node: any;\n    _nodes: DataSet<GraphQLNode>;\n    _network: Network;\n    form: any;\n\n    @Input()\n    set nodes(nodes: any) {\n        this._nodes = nodes;\n    }\n    get nodes() { return this._nodes; }\n\n    @Input()\n    set selectedNode(selectedNode: any) {\n        this._node = this._nodes.get(selectedNode);\n        this.updateForm(this._node);\n    }\n\n    @Input()\n    set network(network: any) {\n        this._network = network;\n    }\n\n    constructor(private storage: LocalStorageService, private formBuilder: FormBuilder) {}\n\n    ngOnInit() {\n        this.form.valueChanges\n            .debounceTime(400)\n            .distinctUntilChanged()\n            .subscribe((data) => this.save(data));\n    }\n\n    updateForm(node: any) {\n        this.form = this.formBuilder.group({\n            label: node.label\n        });\n    }\n\n    save(data) {\n        this._node = _.merge(this._node, data);\n        this._nodes.update(this._node);\n        this.storage.store('graphNodes', this._nodes);\n    }\n}\n","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Routes } from '@angular/router';\n\nimport { PropertiesComponent } from './properties.component';\n\nexport const propertiesRoutes: Routes = [\n  { path: 'properties', component: PropertiesComponent }\n];\n","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n\\n<form [formGroup]=\\\"form\\\" style=\\\"padding-top: 10px;\\\">\\n    <div class=\\\"form-group\\\">\\n        <div class=\\\"input-field\\\">\\n            <input mdInput class=\\\"full-width\\\" placeholder=\\\"Node name\\\" formControlName=\\\"label\\\" name=\\\"label\\\">\\n        </div>\\n    </div>\\n</form>\\n\";","export default \"<!--\\n  ~ Copyright 2016-2019 Crown Copyright\\n  ~\\n  ~ Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n  ~ you may not use this file except in compliance with the License.\\n  ~ You may obtain a copy of the License at\\n  ~\\n  ~     http://www.apache.org/licenses/LICENSE-2.0\\n  ~\\n  ~ Unless required by applicable law or agreed to in writing, software\\n  ~ distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\n  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\n  ~ See the License for the specific language governing permissions and\\n  ~ limitations under the License.\\n  -->\\n<div class=\\\"flex-container alt-background\\\" fxLayout=\\\"row\\\" fxLayoutWrap=\\\"wrap\\\">\\n    <div fxFlex=\\\"100%\\\" fxFlex.gt-md=\\\"70%\\\" style=\\\"padding: 10px;\\\">\\n        <mat-card style=\\\"padding: 0;\\\">\\n            <mat-card-content>\\n                <div id=\\\"schema-graph\\\"></div>\\n            </mat-card-content>\\n        </mat-card>\\n    </div>\\n    <div fxFlex=\\\"100%\\\" fxFlex.gt-md=\\\"30%\\\" style=\\\"padding: 10px;\\\">\\n        <mat-card style=\\\"margin: 70px 0 20px 0; overflow: auto\\\" *ngIf=\\\"selectedEdge && !selectedNode\\\">\\n            <div class=\\\"content-card-header\\\">\\n                <mat-card-title>Selected Edge</mat-card-title>\\n            </div>\\n            <mat-card-content>\\n                <app-edge-form [selectedEdge]=\\\"selectedEdge\\\" [edges]=\\\"edges\\\" [nodes]=\\\"nodes\\\" [network]=\\\"network\\\"></app-edge-form>\\n            </mat-card-content>\\n        </mat-card>\\n\\n        <mat-card style=\\\"margin: 70px 0 20px 0; overflow: auto\\\" *ngIf=\\\"selectedNode\\\">\\n            <div class=\\\"content-card-header\\\">\\n                <mat-card-title>Selected Node</mat-card-title>\\n            </div>\\n            <mat-card-content>\\n                <app-node-form [selectedNode]=\\\"selectedNode\\\" [nodes]=\\\"nodes\\\" [network]=\\\"network\\\"></app-node-form>\\n            </mat-card-content>\\n        </mat-card>\\n\\n        <mat-card style=\\\"margin: 20px 0 20px 0; overflow-y: auto\\\" *ngIf=\\\"selectedNode\\\">\\n            <div class=\\\"content-card-header\\\">\\n                <mat-card-title>Node Entities</mat-card-title>\\n            </div>\\n            <mat-card-content>\\n                <app-entity-form [selectedNode]=\\\"selectedNode\\\" [nodes]=\\\"nodes\\\"></app-entity-form>\\n            </mat-card-content>\\n        </mat-card>\\n\\n        <mat-card style=\\\"margin: 70px 0 20px 0; overflow: auto\\\" *ngIf=\\\"!selectedNode && !selectedEdge\\\">\\n            <div class=\\\"content-card-header\\\">\\n                <mat-card-title>None Selected</mat-card-title>\\n            </div>\\n            <mat-card-content>\\n                <p>Select a node or edge from the graph.</p>\\n            </mat-card-content>\\n        </mat-card>\\n    </div>\\n</div>\\n\";","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n","/*\n * Copyright 2016 Crown Copyright\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { LocalStorageService } from 'ngx-webstorage';\nimport { GafferService } from '../services/gaffer.service';\nimport { UUID } from 'angular2-uuid';\nimport * as _ from 'lodash';\nimport { DataSet } from 'vis';\nimport * as $ from 'jquery'\n\n@Component({\n    selector: 'app-schema',\n    templateUrl: './schema.component.html',\n    styleUrls: ['./schema.component.css'],\n    providers: [GafferService]\n})\nexport class SchemaComponent implements OnInit {\n    schema: any;\n    elements: any;\n    types: any;\n    functions: any;\n    commonTypes: any;\n    validation: any;\n\n    errorMessage: string;\n    errorMessageURL: string;\n    successURL: string;\n\n    edgesById: any;\n    edgesByName: any;\n    nodesById: any;\n    nodesByName: any;\n\n    schemaUrl: string;\n\n    errors: any;\n    editing: any;\n\n    elementsDownload: any;\n    typesDownload: any;\n\n    parseElements() {\n        this.elements = {\n            edges: {},\n            entities: {}\n        };\n        if (this.schema.hasOwnProperty('edges')) {\n            _.forEach(this.schema.edges._data, (edge: any) => {\n                let directed = 'true';\n                if (edge.arrows !== 'to') {\n                    directed = 'false';\n                }\n                const formattedEdge = {\n                    source: this.nodesById[edge.from],\n                    destination: this.nodesById[edge.to],\n                    directed: directed,\n                    properties: {}\n                };\n                _.forEach(edge.properties, (property: any) => {\n                    formattedEdge.properties[property.name] = property.type;\n                });\n                this.elements.edges[edge.label] = formattedEdge;\n            });\n        }\n        if (this.schema.hasOwnProperty('nodes')) {\n            _.forEach(this.schema.nodes._data, (node: any) => {\n                _.forEach(node.entities, (entity: any) => {\n                    const formattedEntity = {\n                        vertex: node.label,\n                        properties: {}\n                    };\n                    _.forEach(entity.properties, (property: any) => {\n                        formattedEntity.properties[property.name] = property.type;\n                    });\n                    this.elements.entities[entity.name] = formattedEntity;\n                });\n            });\n        }\n        this.elementsDownload = 'data:text/json;charset=utf-8,' +\n            encodeURIComponent(JSON.stringify(this.elements, null, 2));\n    }\n\n    parseTypes() {\n        this.types = {\n            types: {}\n        };\n        if (this.schema.hasOwnProperty('types')) {\n            _.forEach(this.schema.types, (type: any) => {\n                const formattedType = {\n                    class: type.class || 'java.lang.String',\n                    validateFunctions: type.validateFunctions || undefined,\n                    aggregateFunction: type.aggregateFunction || null,\n                    serialiser: type.serialiser || null\n                };\n                if(formattedType.aggregateFunction && Object.keys(formattedType.aggregateFunction).length === 0) {\n                    formattedType.aggregateFunction = null;\n                }\n                this.types.types[type.type] = formattedType;\n            });\n        }\n        if (this.schema.hasOwnProperty('nodes')) {\n            _.forEach(this.schema.nodes._data, (node: any) => {\n                const formattedNode = {\n                    class: node.class || 'java.lang.String',\n                    validateFunctions: node.validateFunctions || undefined\n                };\n                this.types.types[node.label] = formattedNode;\n            });\n        }\n\n        this.typesDownload = 'data:text/json;charset=utf-8,' +\n            encodeURIComponent(JSON.stringify(this.types, null, 2));\n    }\n\n    sanitize(url: string) {\n        return this.sanitizer.bypassSecurityTrustUrl(url);\n    }\n\n    clearSchema() {\n        this.storage.clear();\n        this.ngOnInit();\n        this.elements = undefined;\n        this.types = undefined;\n    }\n\n    enableEditMode(key: string) {\n        this.editing[key] = true;\n        $('#' + key + 'TextArea').trigger('input');\n    }\n\n    updateElements(input) {\n        let editedText;\n        if (input) {\n            editedText = input;\n        } else {\n            try {\n                editedText = JSON.parse($('#elementsTextArea').val().toString());\n            } catch (e) {\n                editedText = undefined;\n                this.errors.elements = 'Failed to parse JSON: ' + e.message;\n            }\n        }\n        if (editedText) {\n            const edges = new DataSet();\n            const nodes = new DataSet();\n            const newNodes = [];\n            const newEdges = [];\n            this.errors.elements = undefined;\n            if (editedText.edges) {\n                _.forEach(editedText.edges, (editedEdge: any, edgeName) => {\n                    let fromId;\n                    let toId;\n                    if (!_.some(newNodes, { label: editedEdge.source })) {\n                        fromId = UUID.UUID();\n                        newNodes.push({\n                            id: fromId,\n                            entities: [],\n                            label: editedEdge.source\n                        });\n                    } else {\n                        fromId = _.find(newNodes, { label: editedEdge.source }).id;\n                    }\n                    if (!_.some(newNodes, { label: editedEdge.destination })) {\n                        toId = UUID.UUID();\n                        newNodes.push({\n                            id: toId,\n                            entities: [],\n                            label: editedEdge.destination\n                        });\n                    } else {\n                        toId = _.find(newNodes, { label: editedEdge.destination }).id;\n                    }\n                    const props = [];\n                    _.forEach(editedEdge.properties, (value: string, name) => {\n                        props.push({\n                            id: UUID.UUID(),\n                            name: name,\n                            type: value\n                        });\n                    });\n                    newEdges.push({\n                        id: UUID.UUID(),\n                        from: fromId,\n                        label: edgeName,\n                        properties: props,\n                        length: 200,\n                        arrows: 'to',\n                        to: toId\n                    });\n                });\n            }\n            if (editedText.entities) {\n                _.forEach(editedText.entities, (editedEntity: any, entityName) => {\n                    let nodeId;\n                    const props = [];\n                    _.forEach(editedEntity.properties, (value: string, name) => {\n                        props.push({\n                            id: UUID.UUID(),\n                            name: name,\n                            type: value\n                        });\n                    });\n                    if (!_.some(newNodes, { label: editedEntity.vertex })) {\n                        nodeId = UUID.UUID();\n                        const newNode = {\n                            id: nodeId,\n                            entities: [],\n                            label: editedEntity.vertex\n                        };\n                        newNode.entities.push({\n                            id: UUID.UUID(),\n                            name: entityName,\n                            properties: props\n                        });\n                        newNodes.push(newNode);\n                    } else {\n                        _.forEach(newNodes, (node: any) => {\n                            if (node.label === editedEntity.vertex) {\n                                node.entities.push({\n                                    id: UUID.UUID(),\n                                    name: entityName,\n                                    properties: props\n                                });\n                            }\n                        });\n                    }\n                });\n            }\n            nodes.add(newNodes);\n            edges.add(newEdges);\n            this.storage.store('graphNodes', nodes);\n            this.storage.store('graphEdges', edges);\n            this.editing.elements = false;\n            this.ngOnInit();\n        }\n    }\n\n    updateTypes(input) {\n        let editedText;\n        if (input) {\n            editedText = input;\n        } else {\n            try {\n                editedText = JSON.parse($('#typesTextArea').val().toString());\n            } catch (e) {\n                editedText = undefined;\n                this.errors.types = 'Failed to parse JSON: ' + e.message;\n            }\n        }\n        if (editedText) {\n            const storedNodes = this.storage.retrieve('graphNodes');\n            const newTypes = [];\n            if (editedText.types) {\n                _.forEach(editedText.types, (editedType: any, typeName) => {\n                    let found = false;\n                    _.forEach(storedNodes._data, (storedNode: any, storedId) => {\n                        if (storedNode.label === typeName) {\n                            storedNode.class = editedType.class;\n                            storedNode.validateFunctions = editedText.validateFunctions;\n                            found = true;\n                        }\n                    });\n                    if (!found) {\n                        newTypes.push({\n                            class: editedType.class,\n                            type: typeName,\n                            validateFunctions: editedType.validateFunctions\n                        });\n                    }\n                });\n                this.storage.store('graphNodes', storedNodes);\n                this.storage.store('types', newTypes);\n                this.editing.types = false;\n            }\n        }\n    }\n\n    setupNodeLookups() {\n        const nodesById = {};\n        const storedNodes = this.storage.retrieve('graphNodes');\n        if (storedNodes) {\n            _.forEach(storedNodes._data, (storedNode: any, storedId) => {\n                nodesById[storedId] = storedNode.label;\n            });\n        }\n        this.nodesById = nodesById;\n    }\n\n    loadFromUrl() {\n        this.successURL = undefined;\n        this.gafferService.getSchemaFromURL(this.schemaUrl)\n            .subscribe(\n                result => this.formatSchemaResult(result),\n                error => this.errorMessageURL = <any>error);\n    }\n\n    schemaUrlChanged() {\n        if (this.schemaUrl.length === 0) {\n            this.storage.clear('schemaURL');\n            this.router.navigate(['/schema']);\n        }\n    }\n\n    formatSchemaResult(result) {\n        this.errorMessageURL = undefined;\n        this.errorMessage = undefined;\n        this.router.navigate(['/schema', { url: this.schemaUrl }]);\n        if (result.hasOwnProperty('types') && result.hasOwnProperty('edges')) {\n            this.updateElements(result);\n            this.updateTypes(result);\n        }\n        this.successURL = 'Successfully loaded schema from URL';\n    }\n\n    constructor(private storage: LocalStorageService, private gafferService: GafferService,\n                private router: Router, private route: ActivatedRoute, private sanitizer: DomSanitizer) { }\n\n    ngOnInit() {\n        const storedNodes = this.storage.retrieve('graphNodes');\n        const storedEdges = this.storage.retrieve('graphEdges');\n        const storedTypes = this.storage.retrieve('types');\n        this.schema = {\n            nodes: storedNodes,\n            edges: storedEdges,\n            types: storedTypes\n        };\n        this.errors = {\n            elements: undefined,\n            types: undefined,\n        };\n        this.editing = {\n            elements: false,\n            types: false\n        };\n        this.schemaUrl = '';\n        this.route.params.subscribe((routeParams: any) => {\n            if (routeParams.hasOwnProperty('url')) {\n                this.schemaUrl = routeParams.url;\n                this.storage.store('schemaURL', routeParams.url);\n            } else {\n                const storedSchemaUrl = this.storage.retrieve('schemaURL');\n                if (storedSchemaUrl && storedSchemaUrl !== null) {\n                    this.schemaUrl = this.storage.retrieve('schemaURL');\n                    this.router.navigate(['/schema', { url: this.schemaUrl }]);\n                }\n            }\n        });\n        this.setupNodeLookups();\n        $('textarea').each(function () {\n            this.setAttribute('style', 'height:' + (this.scrollHeight) + 'px;overflow-y:hidden;');\n        }).on('input', function () {\n            setTimeout(() => {\n                this.style.height = (this.scrollHeight) + 'px';\n            }, 100);\n        });\n        if (storedEdges !== null && storedNodes !== null) {\n            this.parseElements();\n            this.parseTypes();\n            this.validation = undefined;\n            this.errorMessage = undefined;\n            this.gafferService.validateSchema(this.elements, this.types)\n                .subscribe(\n                validation => this.validation = validation,\n                error => this.errorMessage = <any>error);\n        }\n    }\n}\n"],"sourceRoot":"webpack:///"}