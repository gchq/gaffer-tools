<!--
  ~ Copyright 2017 Crown Copyright
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<div layout="column" class="content" flex>
    <div id="graphCy" flex="70"></div>

    <div layout-padding layout-margin flex="30">
        <div ng-repeat="(vertex, entities) in ctrl.selectedEntities">
            <h3>{{ctrl.resolveVertex(vertex)}}</h3>

            <p ng-show="!entities.length || !entities[0].group">No entities</p>
            <table md-table
                   ng-show="entities.length && entities[0].group">
                <tbody md-body>
                <tr md-row ng-repeat="entity in entities">
                    <td md-cell>
                        {{entity.group}}
                    </td>
                    <td md-cell>
                        <p ng-repeat="(key, value) in entity.properties">
                            {{key}}: {{ctrl.resolve(value)}}
                        </p>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div ng-repeat="(id, edges) in ctrl.selectedEdges">
            <h3>{{ctrl.resolveVertex(edges[0].source)}} to {{ctrl.resolveVertex(edges[0].destination)}}</h3>
            <table md-table>
                <tbody md-body>
                <tr md-row ng-repeat="edge in edges">
                    <td md-cell>
                        {{edge.group}}
                    </td>
                    <td md-cell>
                        <p ng-repeat="(key, value) in edge.properties">
                            {{key}}: {{ctrl.resolve(value)}}
                        </p>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>